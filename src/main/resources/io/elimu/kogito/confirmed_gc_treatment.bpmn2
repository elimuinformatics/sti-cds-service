<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_bvnqwd5YEDy998ALVT8O5A" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_cardsJsonItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_patientIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirServerUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirTerminologyServerUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_bodyJsonItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_hookItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirAuthTokenItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirTerminologyAuthTokenItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirAuthorizationItem" structureRef="Object"/>
  <bpmn2:itemDefinition id="_fhirClientSecretItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirClientIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirTokenUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirGrantTypeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirUsernameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirPasswordItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_fhirScopeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_hookInstanceItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_userIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_encounterIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_epicClientIDItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_mixpanelOrgNameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_hashedPatientIdItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_planDefinitionUrlItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_mixpanelAppNameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_cardsItem" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="_organizationsHivFilteredItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_alreadyCheckedItem" structureRef="Boolean"/>
  <bpmn2:itemDefinition id="_resourceTypeItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_issueItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="_contextItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="_prefetchItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="_fhirServerItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_cardItem" structureRef="io.elimu.kogito.model.Card"/>
  <bpmn2:itemDefinition id="_A2B15DFD-9CC8-4D16-99D2-309C17C55962_multiInstanceItemType_card" structureRef="io.elimu.kogito.model.Card"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInstanceInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_prefetchInputXItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_contextInputXItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationInputXItem" structureRef="java.util.Map"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_patientIdOutputXItem" structureRef="java.lang.Object"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationOutputXItem" structureRef="java.lang.Object"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_encounterIdOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_userIdOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_patientIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerAuthInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerAuthInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_userIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_patientIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_encounterIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInstanceInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServer_header_Epic__Client__IDInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsJsonOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsOutputXItem" structureRef="java.util.List"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_orgNameInputXItem" structureRef="java.lang.Object"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_organizationsHivFilteredInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_cardsInputXItem" structureRef="java.lang.Object"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_patientIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inference_cardsJsonOutputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_namedfact_patientIdInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputXItem" structureRef="String"/>
  <bpmn2:itemDefinition id="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inference_inCacheOutputXItem" structureRef="Boolean"/>
  <bpmn2:error id="io.elimu.kogito.exception.WorkItemHandlerException" errorCode="io.elimu.kogito.exception.WorkItemHandlerException"/>
  <bpmn2:error id="io.elimu.kogito.exception.WorkItemHandlerException" errorCode="io.elimu.kogito.exception.WorkItemHandlerException"/>
  <bpmn2:collaboration id="_5C5A6161-5862-48E9-A06B-AF62FD8AD247" name="Default Collaboration">
    <bpmn2:participant id="_21DB4208-A9EF-4DBE-9FD8-4FC9A78A9B4D" name="Pool Participant" processRef="confirmed_gc_treatment"/>
  </bpmn2:collaboration>
  <bpmn2:process id="confirmed_gc_treatment" drools:packageName="io.elimu.kogito" drools:version="1.0" drools:adHoc="false" name="Confirmed Treatment for Gonococcal Infection" isExecutable="true" processType="Public">
    <bpmn2:property id="cardsJson" itemSubjectRef="_cardsJsonItem" name="cardsJson">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="patientId" itemSubjectRef="_patientIdItem" name="patientId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirServerUrl" itemSubjectRef="_fhirServerUrlItem" name="fhirServerUrl">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirTerminologyServerUrl" itemSubjectRef="_fhirTerminologyServerUrlItem" name="fhirTerminologyServerUrl">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="bodyJson" itemSubjectRef="_bodyJsonItem" name="bodyJson">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="hook" itemSubjectRef="_hookItem" name="hook">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirAuthToken" itemSubjectRef="_fhirAuthTokenItem" name="fhirAuthToken">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirTerminologyAuthToken" itemSubjectRef="_fhirTerminologyAuthTokenItem" name="fhirTerminologyAuthToken">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirAuthorization" itemSubjectRef="_fhirAuthorizationItem" name="fhirAuthorization">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirClientSecret" itemSubjectRef="_fhirClientSecretItem" name="fhirClientSecret">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirClientId" itemSubjectRef="_fhirClientIdItem" name="fhirClientId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirTokenUrl" itemSubjectRef="_fhirTokenUrlItem" name="fhirTokenUrl">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirGrantType" itemSubjectRef="_fhirGrantTypeItem" name="fhirGrantType">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirUsername" itemSubjectRef="_fhirUsernameItem" name="fhirUsername">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirPassword" itemSubjectRef="_fhirPasswordItem" name="fhirPassword">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirScope" itemSubjectRef="_fhirScopeItem" name="fhirScope">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="hookInstance" itemSubjectRef="_hookInstanceItem" name="hookInstance">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="userId" itemSubjectRef="_userIdItem" name="userId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="encounterId" itemSubjectRef="_encounterIdItem" name="encounterId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="epicClientID" itemSubjectRef="_epicClientIDItem" name="epicClientID">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="mixpanelOrgName" itemSubjectRef="_mixpanelOrgNameItem" name="mixpanelOrgName">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="hashedPatientId" itemSubjectRef="_hashedPatientIdItem" name="hashedPatientId">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="planDefinitionUrl" itemSubjectRef="_planDefinitionUrlItem" name="planDefinitionUrl">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="mixpanelAppName" itemSubjectRef="_mixpanelAppNameItem" name="mixpanelAppName">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="cards" itemSubjectRef="_cardsItem" name="cards">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="organizationsHivFiltered" itemSubjectRef="_organizationsHivFilteredItem" name="organizationsHivFiltered">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="alreadyChecked" itemSubjectRef="_alreadyCheckedItem" name="alreadyChecked">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[internal]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="resourceType" itemSubjectRef="_resourceTypeItem" name="resourceType">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="issue" itemSubjectRef="_issueItem" name="issue">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[output]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="context" itemSubjectRef="_contextItem" name="context">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="prefetch" itemSubjectRef="_prefetchItem" name="prefetch">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:property id="fhirServer" itemSubjectRef="_fhirServerItem" name="fhirServer">
      <bpmn2:extensionElements>
        <drools:metaData name="customTags">
          <drools:metaValue><![CDATA[input]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:property>
    <bpmn2:sequenceFlow id="_DA2C7E35-E197-4BF2-9E98-6709B83968CC" sourceRef="_B6F12F65-7678-4D90-B49A-9D6B93EC8735" targetRef="_02EEFD92-4133-46ED-B55F-C28886A16CED"/>
    <bpmn2:sequenceFlow id="_4581A546-237B-457F-82D7-A9AB3C7E65ED" sourceRef="_7A0E74CB-B0AD-44D2-BE03-19F59C496482" targetRef="_B6F12F65-7678-4D90-B49A-9D6B93EC8735">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_C08123C7-8108-41C8-9A58-730A118F6B69" name="already checked" sourceRef="_FA0E4943-5CC9-4393-8A7A-E617AD31B562" targetRef="_7A0E74CB-B0AD-44D2-BE03-19F59C496482">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[already checked]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return (alreadyChecked != null && alreadyChecked.booleanValue() == true);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_4CA7720D-DE15-4A42-8772-560152CEB472" sourceRef="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A" targetRef="_FA0E4943-5CC9-4393-8A7A-E617AD31B562"/>
    <bpmn2:sequenceFlow id="_207B7603-7B14-4512-9E58-B632F4EB904D" sourceRef="_4805604E-72AD-46D0-9E91-B67E08D92324" targetRef="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A"/>
    <bpmn2:sequenceFlow id="_428EC604-947C-4EC3-974E-EFCAB7D9947C" sourceRef="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4" targetRef="_B6F12F65-7678-4D90-B49A-9D6B93EC8735"/>
    <bpmn2:sequenceFlow id="_470AC679-3D96-4D20-9DB8-8C0A2FACBC2B" sourceRef="_405BC881-8C1F-4267-BD1E-CA72EFE24352" targetRef="_690EF5DC-0CD1-4945-BDA8-3E2F7959123A"/>
    <bpmn2:sequenceFlow id="_99671210-1490-4CCF-B5A5-64A9AD2B3263" sourceRef="_22C2152B-F642-4735-95F9-BA16C16C73FF" targetRef="_D8831282-B4B7-4933-B28E-480A0E75D33D"/>
    <bpmn2:sequenceFlow id="_9F6A2D99-B809-49BB-8B4F-03F511F9A079" name="not checked" sourceRef="_FA0E4943-5CC9-4393-8A7A-E617AD31B562" targetRef="_07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[not checked]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return !(alreadyChecked != null && alreadyChecked.booleanValue() == true);]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_3AFBC8B1-C58E-4E9E-ABB7-2D21FC010C1C" sourceRef="_A9B560BC-9F30-4579-B642-ECB17AC610D1" targetRef="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4"/>
    <bpmn2:sequenceFlow id="_DEE85459-0CED-4AFE-B685-9A4E056204B5" sourceRef="_07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C" targetRef="_A9B560BC-9F30-4579-B642-ECB17AC610D1"/>
    <bpmn2:sequenceFlow id="_C33BAF67-2708-41BB-8731-AFCFC72FFC5A" sourceRef="_10DCE6CA-714E-4B17-91DD-9613054AAFBB" targetRef="_4805604E-72AD-46D0-9E91-B67E08D92324"/>
    <bpmn2:sequenceFlow id="_CA1C20B7-05B1-424B-88F0-00CB265E7B04" sourceRef="_213693A5-65C4-4E47-ACC9-647F41006CEA" targetRef="_10DCE6CA-714E-4B17-91DD-9613054AAFBB">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_B1EAE47C-E889-4225-8632-2AC491B8DB17" sourceRef="_A2B15DFD-9CC8-4D16-99D2-309C17C55962" targetRef="_08002E46-1FCC-4053-B54E-F3F6536403E7"/>
    <bpmn2:sequenceFlow id="_FDDA3DD1-583D-414B-93DA-127E140FCAE1" sourceRef="_02EEFD92-4133-46ED-B55F-C28886A16CED" targetRef="_A2B15DFD-9CC8-4D16-99D2-309C17C55962">
      <bpmn2:extensionElements>
        <drools:metaData name="isAutoConnection.target">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="_A244E66E-F7E1-40CF-96C0-205EF2BD2E58" sourceRef="_66D1A9A0-7127-4483-A0C0-712E45D9225B" targetRef="_405BC881-8C1F-4267-BD1E-CA72EFE24352"/>
    <bpmn2:sequenceFlow id="_BCAEA4D4-7118-45EC-B095-428397EAF8B0" sourceRef="_8558BD5A-147B-4C16-8F88-6C46C2442307" targetRef="_22C2152B-F642-4735-95F9-BA16C16C73FF"/>
    <bpmn2:scriptTask id="_02EEFD92-4133-46ED-B55F-C28886A16CED" name="Log Response sent" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Log Response sent]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_DA2C7E35-E197-4BF2-9E98-6709B83968CC</bpmn2:incoming>
      <bpmn2:outgoing>_FDDA3DD1-583D-414B-93DA-127E140FCAE1</bpmn2:outgoing>
      <bpmn2:script>org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Finished plan def evaluation");
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Cards json is " + cardsJson);

String prefix = "patient:" + hashedPatientId + " - org:" + fhirServerUrl + " HookId:" + hookInstance + " hook:" + hook + " - user:" + userId;
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.confirmed-gc-treatment").info(prefix + " - CDS response sent");</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="_405BC881-8C1F-4267-BD1E-CA72EFE24352" name="CQL eval error outcome" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[CQL eval error outcome]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_A244E66E-F7E1-40CF-96C0-205EF2BD2E58</bpmn2:incoming>
      <bpmn2:outgoing>_470AC679-3D96-4D20-9DB8-8C0A2FACBC2B</bpmn2:outgoing>
      <bpmn2:script>java.util.Map out = io.elimu.kogito.util.CustomOperationOutcome.createOperationOutcome("exception", "error", "Error occurred when evaluating the  CDS rules");
kcontext.setVariable("resourceType", "OperationOutcome");
kcontext.setVariable("issue", out.get("issue"));
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.ConfirmedGcTreatment").info("Outputting OperationOutcome " + out);</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="_4805604E-72AD-46D0-9E91-B67E08D92324" name="Update variables - Log Request Received" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Update variables - Log Request Received]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_C33BAF67-2708-41BB-8731-AFCFC72FFC5A</bpmn2:incoming>
      <bpmn2:outgoing>_207B7603-7B14-4512-9E58-B632F4EB904D</bpmn2:outgoing>
      <bpmn2:script>org.slf4j.Logger log2 = org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment");
log2.debug("hook is " + kcontext.getVariable("hook"));
log2.debug("fhir server url is " + kcontext.getVariable("fhirServerUrl"));
log2.debug("fhir term server url is " + kcontext.getVariable("fhirTerminologyServerUrl"));
log2.debug("User id is " + kcontext.getVariable("userId"));

String userIdStr = (String)kcontext.getVariable("userId");
if (userIdStr != null) {
  if (userIdStr.contains("/")) {
    kcontext.setVariable("userId", new org.hl7.fhir.r4.model.IdType(userIdStr).getIdPart());
  }
}

String hashpat = io.elimu.kogito.util.CacheHelper.getInstance().hashPatient(patientId);
kcontext.setVariable("hashedPatientId", hashpat);
kcontext.setVariable("orgId", fhirServerUrl);
String prefix = "patient:" + hashpat + " - org:" + fhirServerUrl + " HookId:" + hookInstance + " hook:" + hook + " - user:" + userId;
log2.info(prefix + " - CDS request received");</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:scriptTask id="_22C2152B-F642-4735-95F9-BA16C16C73FF" name="error parsing request outcome" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[error parsing request outcome]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_BCAEA4D4-7118-45EC-B095-428397EAF8B0</bpmn2:incoming>
      <bpmn2:outgoing>_99671210-1490-4CCF-B5A5-64A9AD2B3263</bpmn2:outgoing>
      <bpmn2:script>java.util.Map out = io.elimu.kogito.util.CustomOperationOutcome.createOperationOutcome("invalid","error","Could not understand CDS request");
kcontext.setVariable("resourceType", "OperationOutcome");
kcontext.setVariable("issue", out.get("issue"));
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.ConfirmedGcTreatment").info("Outputting OperationOutcome " + out);
</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_B6F12F65-7678-4D90-B49A-9D6B93EC8735" gatewayDirection="Converging">
      <bpmn2:incoming>_428EC604-947C-4EC3-974E-EFCAB7D9947C</bpmn2:incoming>
      <bpmn2:incoming>_4581A546-237B-457F-82D7-A9AB3C7E65ED</bpmn2:incoming>
      <bpmn2:outgoing>_DA2C7E35-E197-4BF2-9E98-6709B83968CC</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:scriptTask id="_7A0E74CB-B0AD-44D2-BE03-19F59C496482" name="empty cards" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[empty cards]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_C08123C7-8108-41C8-9A58-730A118F6B69</bpmn2:incoming>
      <bpmn2:outgoing>_4581A546-237B-457F-82D7-A9AB3C7E65ED</bpmn2:outgoing>
      <bpmn2:script>kcontext.setVariable("cardsJson", null);</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:exclusiveGateway id="_FA0E4943-5CC9-4393-8A7A-E617AD31B562" gatewayDirection="Diverging">
      <bpmn2:incoming>_4CA7720D-DE15-4A42-8772-560152CEB472</bpmn2:incoming>
      <bpmn2:outgoing>_9F6A2D99-B809-49BB-8B4F-03F511F9A079</bpmn2:outgoing>
      <bpmn2:outgoing>_C08123C7-8108-41C8-9A58-730A118F6B69</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:task id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A" drools:taskName="RuleInvoke" name="patient cache check">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[patient cache check]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_207B7603-7B14-4512-9E58-B632F4EB904D</bpmn2:incoming>
      <bpmn2:outgoing>_4CA7720D-DE15-4A42-8772-560152CEB472</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_namedfact_patientIdInputX" drools:dtype="String" itemSubjectRef="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_namedfact_patientIdInputXItem" name="namedfact_patientId"/>
        <bpmn2:dataInput id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputX" drools:dtype="String" itemSubjectRef="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputXItem" name="inferencesGlobalVariableName"/>
        <bpmn2:dataInput id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputX" drools:dtype="String" itemSubjectRef="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputXItem" name="ruleFlowGroup"/>
        <bpmn2:dataInput id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inference_inCacheOutputX" drools:dtype="Boolean" itemSubjectRef="__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inference_inCacheOutputXItem" name="inference_inCache"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_namedfact_patientIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inference_inCacheOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hashedPatientId</bpmn2:sourceRef>
        <bpmn2:targetRef>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_namedfact_patientIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[inferences]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inferencesGlobalVariableNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[patient-cache-check]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_ruleFlowGroupInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[RuleInvoke]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_E7E3E47F-2DF8-4CB2-B557-42410CCF360A_inference_inCacheOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>alreadyChecked</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:task id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4" drools:taskName="RuleInvoke" name="filter cards">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[filter cards]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_3AFBC8B1-C58E-4E9E-ABB7-2D21FC010C1C</bpmn2:incoming>
      <bpmn2:outgoing>_428EC604-947C-4EC3-974E-EFCAB7D9947C</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputX" drools:dtype="String" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputXItem" name="inferencesGlobalVariableName"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_orgNameInputX" drools:dtype="java.lang.Object" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_orgNameInputXItem" name="namedfact_orgName"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputX" drools:dtype="String" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputXItem" name="ruleFlowGroup"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_organizationsHivFilteredInputX" drools:dtype="String" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_organizationsHivFilteredInputXItem" name="namedfact_organizationsHivFiltered"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_cardsInputX" drools:dtype="java.lang.Object" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_cardsInputXItem" name="namedfact_cards"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_patientIdInputX" drools:dtype="String" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_patientIdInputXItem" name="namedfact_patientId"/>
        <bpmn2:dataInput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inference_cardsJsonOutputX" drools:dtype="String" itemSubjectRef="__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inference_cardsJsonOutputXItem" name="inference_cardsJson"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_orgNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_organizationsHivFilteredInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_cardsInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_patientIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inference_cardsJsonOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[inferences]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inferencesGlobalVariableNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>mixpanelOrgName</bpmn2:sourceRef>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_orgNameInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[filter-cards]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_ruleFlowGroupInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>organizationsHivFiltered</bpmn2:sourceRef>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_organizationsHivFilteredInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>cards</bpmn2:sourceRef>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_cardsInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hashedPatientId</bpmn2:sourceRef>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_namedfact_patientIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[RuleInvoke]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_C75ED5C2-D4C3-4118-9609-8752BA67B8D4_inference_cardsJsonOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>cardsJson</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:endEvent id="_690EF5DC-0CD1-4945-BDA8-3E2F7959123A">
      <bpmn2:incoming>_470AC679-3D96-4D20-9DB8-8C0A2FACBC2B</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="_D8831282-B4B7-4933-B28E-480A0E75D33D">
      <bpmn2:incoming>_99671210-1490-4CCF-B5A5-64A9AD2B3263</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:scriptTask id="_07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C" name="Get fhir server tokens" scriptFormat="http://www.java.com/java">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Get fhir server tokens]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_9F6A2D99-B809-49BB-8B4F-03F511F9A079</bpmn2:incoming>
      <bpmn2:outgoing>_DEE85459-0CED-4AFE-B685-9A4E056204B5</bpmn2:outgoing>
      <bpmn2:script>  // Extract token from fhirAuthorization
  io.elimu.kogito.model.FHIRAuthorization authFromHookReq =
    (io.elimu.kogito.model.FHIRAuthorization)(kcontext.getVariable("fhirAuthorization"));
  if (authFromHookReq != null) {
      kcontext.setVariable("fhirAuthToken", "Bearer " + authFromHookReq.getAccessToken());
      org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Extracted auth token for fhir server: " + authFromHookReq.getAccessToken().substring(0,6));
  }

  // java.lang.String url = (String)kcontext.getVariable("fhir4TerServer");
  String auth = io.elimu.kogito.util.AuthHelper.getAuthToken(fhirTokenUrl, fhirScope, fhirClientId, fhirClientSecret, fhirGrantType, fhirUsername, fhirPassword);
  kcontext.setVariable("fhirTerminologyAuthToken", "Bearer " + auth);
  org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Generated auth token for terminology server " + auth);

org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Invoking plan def evaluation");
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.gc-confirmed-treatment").debug("Selected order resources is " + kcontext.getVariable("selectedOrderResources"));
</bpmn2:script>
    </bpmn2:scriptTask>
    <bpmn2:startEvent id="_213693A5-65C4-4E47-ACC9-647F41006CEA" name="begin">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[begin]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:outgoing>_CA1C20B7-05B1-424B-88F0-00CB265E7B04</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:endEvent id="_08002E46-1FCC-4053-B54E-F3F6536403E7" name="end">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[end]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_B1EAE47C-E889-4225-8632-2AC491B8DB17</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:task id="_A9B560BC-9F30-4579-B642-ECB17AC610D1" drools:taskName="PlanDefinition" name="Evaluate Plan Definition">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Evaluate Plan Definition]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_DEE85459-0CED-4AFE-B685-9A4E056204B5</bpmn2:incoming>
      <bpmn2:outgoing>_3AFBC8B1-C58E-4E9E-ABB7-2D21FC010C1C</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerUrlInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerUrlInputXItem" name="fhirTerminologyServerUrl"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_patientIdInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_patientIdInputXItem" name="patientId"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerUrlInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerUrlInputXItem" name="fhirServerUrl"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputXItem" name="planDefinitionUrl"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerAuthInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerAuthInputXItem" name="fhirTerminologyServerAuth"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerAuthInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerAuthInputXItem" name="fhirServerAuth"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_userIdInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_userIdInputXItem" name="context_userId"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_patientIdInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_patientIdInputXItem" name="context_patientId"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_encounterIdInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_encounterIdInputXItem" name="context_encounterId"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInputXItem" name="context_hook"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInstanceInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInstanceInputXItem" name="context_hookInstance"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServer_header_Epic__Client__IDInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServer_header_Epic__Client__IDInputXItem" name="fhirServer_header_Epic__Client__ID"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDInputXItem" name="ignoreme_XhirServer_header_Epic__User__ID"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputXItem" name="ignoreme_XhirServer_header_Epic__User__IDType"/>
        <bpmn2:dataInput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsJsonOutputX" drools:dtype="String" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsJsonOutputXItem" name="cardsJson"/>
        <bpmn2:dataOutput id="_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsOutputX" drools:dtype="java.util.List" itemSubjectRef="__A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsOutputXItem" name="cards"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_patientIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerAuthInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerAuthInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_userIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_patientIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_encounterIdInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInstanceInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServer_header_Epic__Client__IDInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsJsonOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirTerminologyServerUrl</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerUrlInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>patientId</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_patientIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirServerUrl</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerUrlInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[http://elimu.io/PlanDefinition/GonorrheaCDSLaboratoryConfirmed]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_A9B560BC-9F30-4579-B642-ECB17AC610D1_planDefinitionUrlInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirTerminologyAuthToken</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirTerminologyServerAuthInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirAuthToken</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServerAuthInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>userId</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_userIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>patientId</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_patientIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>encounterId</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_encounterIdInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hook</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hookInstance</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_context_hookInstanceInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>epicClientID</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_fhirServer_header_Epic__Client__IDInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>userId</bpmn2:sourceRef>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[External]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_A9B560BC-9F30-4579-B642-ECB17AC610D1_ignoreme_XhirServer_header_Epic__User__IDTypeInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[PlanDefinition]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_A9B560BC-9F30-4579-B642-ECB17AC610D1_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsJsonOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>cardsJson</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_A9B560BC-9F30-4579-B642-ECB17AC610D1_cardsOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>cards</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:task id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB" drools:taskName="DeserializeHooksRequest" name="Deserialize Hooks Request">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Deserialize Hooks Request]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_CA1C20B7-05B1-424B-88F0-00CB265E7B04</bpmn2:incoming>
      <bpmn2:outgoing>_C33BAF67-2708-41BB-8731-AFCFC72FFC5A</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInputXItem" name="hook"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputXItem" name="fhirVersion"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInstanceInputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInstanceInputXItem" name="hookInstance"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_prefetchInputX" drools:dtype="java.util.Map" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_prefetchInputXItem" name="prefetch"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_contextInputX" drools:dtype="java.util.Map" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_contextInputXItem" name="context"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationInputX" drools:dtype="java.util.Map" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationInputXItem" name="fhirAuthorization"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerInputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerInputXItem" name="fhirServer"/>
        <bpmn2:dataInput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataOutput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerOutputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerOutputXItem" name="fhirServer"/>
        <bpmn2:dataOutput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_patientIdOutputX" drools:dtype="java.lang.Object" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_patientIdOutputXItem" name="context_patientId"/>
        <bpmn2:dataOutput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationOutputX" drools:dtype="java.lang.Object" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationOutputXItem" name="fhirAuthorization"/>
        <bpmn2:dataOutput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_encounterIdOutputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_encounterIdOutputXItem" name="context_encounterId"/>
        <bpmn2:dataOutput id="_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_userIdOutputX" drools:dtype="String" itemSubjectRef="__10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_userIdOutputXItem" name="context_userId"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInstanceInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_prefetchInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_contextInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_TaskNameInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_patientIdOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_encounterIdOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_userIdOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hook</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[R4]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirVersionInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>hookInstance</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_hookInstanceInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>prefetch</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_prefetchInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>context</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_contextInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirAuthorization</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>fhirServer</bpmn2:sourceRef>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[DeserializeHooksRequest]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_10DCE6CA-714E-4B17-91DD-9613054AAFBB_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirServerOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>fhirServerUrl</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_patientIdOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>patientId</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_fhirAuthorizationOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>fhirAuthorization</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_encounterIdOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>encounterId</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_10DCE6CA-714E-4B17-91DD-9613054AAFBB_context_userIdOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>userId</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:task>
    <bpmn2:subProcess id="_A2B15DFD-9CC8-4D16-99D2-309C17C55962" name="Card Details">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Card Details]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>_FDDA3DD1-583D-414B-93DA-127E140FCAE1</bpmn2:incoming>
      <bpmn2:outgoing>_B1EAE47C-E889-4225-8632-2AC491B8DB17</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_A2B15DFD-9CC8-4D16-99D2-309C17C55962_IN_COLLECTIONInputX" itemSubjectRef="_cardsItem" name="IN_COLLECTION"/>
        <bpmn2:dataInput id="_A2B15DFD-9CC8-4D16-99D2-309C17C55962_cardInputX" itemSubjectRef="_A2B15DFD-9CC8-4D16-99D2-309C17C55962_multiInstanceItemType_card" name="card"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_A2B15DFD-9CC8-4D16-99D2-309C17C55962_IN_COLLECTIONInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_A2B15DFD-9CC8-4D16-99D2-309C17C55962_cardInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet/>
      </bpmn2:ioSpecification>
      <bpmn2:property id="card" itemSubjectRef="_cardItem" name="card"/>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>cards</bpmn2:sourceRef>
        <bpmn2:targetRef>_A2B15DFD-9CC8-4D16-99D2-309C17C55962_IN_COLLECTIONInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:multiInstanceLoopCharacteristics>
        <bpmn2:loopDataInputRef>_A2B15DFD-9CC8-4D16-99D2-309C17C55962_IN_COLLECTIONInputX</bpmn2:loopDataInputRef>
        <bpmn2:inputDataItem id="card" itemSubjectRef="_A2B15DFD-9CC8-4D16-99D2-309C17C55962_multiInstanceItemType_card" name="card"/>
      </bpmn2:multiInstanceLoopCharacteristics>
      <bpmn2:sequenceFlow id="_550EADD4-4C29-431A-A102-4AC24A84D177" sourceRef="_0E1A1833-ABCF-4729-A209-B8880F6A625D" targetRef="_8ED23D7D-87DB-4EC0-83F4-68B2201E552B"/>
      <bpmn2:sequenceFlow id="_0A8DF0CA-F234-47E1-80B9-4FC7B83B851B" sourceRef="_8ED23D7D-87DB-4EC0-83F4-68B2201E552B" targetRef="_7505D7B1-E462-4FC8-819D-916ACF7F3AD8"/>
      <bpmn2:scriptTask id="_8ED23D7D-87DB-4EC0-83F4-68B2201E552B" name="Log Card" scriptFormat="http://www.java.com/java">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Log Card]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:incoming>_550EADD4-4C29-431A-A102-4AC24A84D177</bpmn2:incoming>
        <bpmn2:outgoing>_0A8DF0CA-F234-47E1-80B9-4FC7B83B851B</bpmn2:outgoing>
        <bpmn2:script>String prefix = "patient:" + kcontext.getVariable("hashedPatientId") + " - org:" + kcontext.getVariable("fhirServerUrl") + " HookId:" + kcontext.getVariable("hookInstance") + " hook:" + kcontext.getVariable("hook") + " - user:" + kcontext.getVariable("userId");
org.slf4j.LoggerFactory.getLogger("io.elimu.kogito.confirmed-gc-treatment").info(prefix + " - CDS Card: summary:" + card.getSummary() + ", detail: " + card.getDetail() + ", suggestions: " + card.getSuggestions());</bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:startEvent id="_0E1A1833-ABCF-4729-A209-B8880F6A625D">
        <bpmn2:outgoing>_550EADD4-4C29-431A-A102-4AC24A84D177</bpmn2:outgoing>
      </bpmn2:startEvent>
      <bpmn2:endEvent id="_7505D7B1-E462-4FC8-819D-916ACF7F3AD8">
        <bpmn2:incoming>_0A8DF0CA-F234-47E1-80B9-4FC7B83B851B</bpmn2:incoming>
      </bpmn2:endEvent>
    </bpmn2:subProcess>
    <bpmn2:boundaryEvent id="_8558BD5A-147B-4C16-8F88-6C46C2442307" drools:dockerinfo="23.83177570093458^71|" drools:boundaryca="true" attachedToRef="_10DCE6CA-714E-4B17-91DD-9613054AAFBB">
      <bpmn2:outgoing>_BCAEA4D4-7118-45EC-B095-428397EAF8B0</bpmn2:outgoing>
      <bpmn2:errorEventDefinition drools:erefname="io.elimu.kogito.exception.WorkItemHandlerException" errorRef="io.elimu.kogito.exception.WorkItemHandlerException"/>
    </bpmn2:boundaryEvent>
    <bpmn2:boundaryEvent id="_66D1A9A0-7127-4483-A0C0-712E45D9225B" drools:dockerinfo="78.29230769230769^76|" drools:boundaryca="true" attachedToRef="_A9B560BC-9F30-4579-B642-ECB17AC610D1">
      <bpmn2:outgoing>_A244E66E-F7E1-40CF-96C0-205EF2BD2E58</bpmn2:outgoing>
      <bpmn2:errorEventDefinition drools:erefname="io.elimu.kogito.exception.WorkItemHandlerException" errorRef="io.elimu.kogito.exception.WorkItemHandlerException"/>
    </bpmn2:boundaryEvent>
  </bpmn2:process>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="confirmed_gc_treatment">
      <bpmndi:BPMNShape id="shape__A2B15DFD-9CC8-4D16-99D2-309C17C55962" bpmnElement="_A2B15DFD-9CC8-4D16-99D2-309C17C55962">
        <dc:Bounds height="168" width="352" x="822" y="304.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__7505D7B1-E462-4FC8-819D-916ACF7F3AD8" bpmnElement="_7505D7B1-E462-4FC8-819D-916ACF7F3AD8">
        <dc:Bounds height="56" width="56" x="1105" y="361"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__0E1A1833-ABCF-4729-A209-B8880F6A625D" bpmnElement="_0E1A1833-ABCF-4729-A209-B8880F6A625D">
        <dc:Bounds height="56" width="56" x="845" y="362.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__8ED23D7D-87DB-4EC0-83F4-68B2201E552B" bpmnElement="_8ED23D7D-87DB-4EC0-83F4-68B2201E552B">
        <dc:Bounds height="102" width="154" x="928" y="339.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__8ED23D7D-87DB-4EC0-83F4-68B2201E552B_to_shape__7505D7B1-E462-4FC8-819D-916ACF7F3AD8" bpmnElement="_0A8DF0CA-F234-47E1-80B9-4FC7B83B851B">
        <di:waypoint x="1005" y="390.5"/>
        <di:waypoint x="1133" y="389"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__0E1A1833-ABCF-4729-A209-B8880F6A625D_to_shape__8ED23D7D-87DB-4EC0-83F4-68B2201E552B" bpmnElement="_550EADD4-4C29-431A-A102-4AC24A84D177">
        <di:waypoint x="873" y="390.5"/>
        <di:waypoint x="1005" y="390.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__8558BD5A-147B-4C16-8F88-6C46C2442307" bpmnElement="_8558BD5A-147B-4C16-8F88-6C46C2442307">
        <dc:Bounds height="56" width="56" x="162.83177570093457" y="252.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__66D1A9A0-7127-4483-A0C0-712E45D9225B" bpmnElement="_66D1A9A0-7127-4483-A0C0-712E45D9225B">
        <dc:Bounds height="56" width="56" x="746.2923076923076" y="520"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__10DCE6CA-714E-4B17-91DD-9613054AAFBB" bpmnElement="_10DCE6CA-714E-4B17-91DD-9613054AAFBB">
        <dc:Bounds height="99" width="149" x="139" y="181.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__A9B560BC-9F30-4579-B642-ECB17AC610D1" bpmnElement="_A9B560BC-9F30-4579-B642-ECB17AC610D1">
        <dc:Bounds height="104" width="147" x="668" y="444"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__08002E46-1FCC-4053-B54E-F3F6536403E7" bpmnElement="_08002E46-1FCC-4053-B54E-F3F6536403E7">
        <dc:Bounds height="56" width="56" x="970" y="513"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__213693A5-65C4-4E47-ACC9-647F41006CEA" bpmnElement="_213693A5-65C4-4E47-ACC9-647F41006CEA">
        <dc:Bounds height="56" width="56" x="58" y="202"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C" bpmnElement="_07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C">
        <dc:Bounds height="79" width="147" x="496.5" y="456"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__D8831282-B4B7-4933-B28E-480A0E75D33D" bpmnElement="_D8831282-B4B7-4933-B28E-480A0E75D33D">
        <dc:Bounds height="56" width="56" x="162" y="491"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__690EF5DC-0CD1-4945-BDA8-3E2F7959123A" bpmnElement="_690EF5DC-0CD1-4945-BDA8-3E2F7959123A">
        <dc:Bounds height="56" width="56" x="904" y="629"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__C75ED5C2-D4C3-4118-9609-8752BA67B8D4" bpmnElement="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4">
        <dc:Bounds height="97" width="140" x="645" y="305.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__E7E3E47F-2DF8-4CB2-B557-42410CCF360A" bpmnElement="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A">
        <dc:Bounds height="99" width="136" x="330" y="314.5"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__FA0E4943-5CC9-4393-8A7A-E617AD31B562" bpmnElement="_FA0E4943-5CC9-4393-8A7A-E617AD31B562">
        <dc:Bounds height="56" width="56" x="542" y="337"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__7A0E74CB-B0AD-44D2-BE03-19F59C496482" bpmnElement="_7A0E74CB-B0AD-44D2-BE03-19F59C496482">
        <dc:Bounds height="95" width="141" x="499.5" y="182"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__B6F12F65-7678-4D90-B49A-9D6B93EC8735" bpmnElement="_B6F12F65-7678-4D90-B49A-9D6B93EC8735">
        <dc:Bounds height="56" width="56" x="682" y="196"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__22C2152B-F642-4735-95F9-BA16C16C73FF" bpmnElement="_22C2152B-F642-4735-95F9-BA16C16C73FF">
        <dc:Bounds height="102" width="154" x="113" y="340"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__4805604E-72AD-46D0-9E91-B67E08D92324" bpmnElement="_4805604E-72AD-46D0-9E91-B67E08D92324">
        <dc:Bounds height="102" width="154" x="319" y="177"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__405BC881-8C1F-4267-BD1E-CA72EFE24352" bpmnElement="_405BC881-8C1F-4267-BD1E-CA72EFE24352">
        <dc:Bounds height="102" width="154" x="696" y="606"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__02EEFD92-4133-46ED-B55F-C28886A16CED" bpmnElement="_02EEFD92-4133-46ED-B55F-C28886A16CED">
        <dc:Bounds height="102" width="154" x="770" y="171"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__8558BD5A-147B-4C16-8F88-6C46C2442307_to_shape__22C2152B-F642-4735-95F9-BA16C16C73FF" bpmnElement="_BCAEA4D4-7118-45EC-B095-428397EAF8B0">
        <di:waypoint x="190.83177570093457" y="280.5"/>
        <di:waypoint x="190" y="391"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__66D1A9A0-7127-4483-A0C0-712E45D9225B_to_shape__405BC881-8C1F-4267-BD1E-CA72EFE24352" bpmnElement="_A244E66E-F7E1-40CF-96C0-205EF2BD2E58">
        <di:waypoint x="774.2923076923076" y="548"/>
        <di:waypoint x="773" y="657"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__02EEFD92-4133-46ED-B55F-C28886A16CED_to_shape__A2B15DFD-9CC8-4D16-99D2-309C17C55962" bpmnElement="_FDDA3DD1-583D-414B-93DA-127E140FCAE1">
        <di:waypoint x="847" y="222"/>
        <di:waypoint x="998" y="222.00000000056554"/>
        <di:waypoint x="998" y="304.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__A2B15DFD-9CC8-4D16-99D2-309C17C55962_to_shape__08002E46-1FCC-4053-B54E-F3F6536403E7" bpmnElement="_B1EAE47C-E889-4225-8632-2AC491B8DB17">
        <di:waypoint x="998" y="388.5"/>
        <di:waypoint x="998" y="541"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__213693A5-65C4-4E47-ACC9-647F41006CEA_to_shape__10DCE6CA-714E-4B17-91DD-9613054AAFBB" bpmnElement="_CA1C20B7-05B1-424B-88F0-00CB265E7B04">
        <di:waypoint x="86" y="230"/>
        <di:waypoint x="213.5" y="181.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__10DCE6CA-714E-4B17-91DD-9613054AAFBB_to_shape__4805604E-72AD-46D0-9E91-B67E08D92324" bpmnElement="_C33BAF67-2708-41BB-8731-AFCFC72FFC5A">
        <di:waypoint x="213.5" y="231"/>
        <di:waypoint x="396" y="228"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C_to_shape__A9B560BC-9F30-4579-B642-ECB17AC610D1" bpmnElement="_DEE85459-0CED-4AFE-B685-9A4E056204B5">
        <di:waypoint x="570" y="495.5"/>
        <di:waypoint x="668" y="496"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__A9B560BC-9F30-4579-B642-ECB17AC610D1_to_shape__C75ED5C2-D4C3-4118-9609-8752BA67B8D4" bpmnElement="_3AFBC8B1-C58E-4E9E-ABB7-2D21FC010C1C">
        <di:waypoint x="741.5" y="496"/>
        <di:waypoint x="715" y="354"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__FA0E4943-5CC9-4393-8A7A-E617AD31B562_to_shape__07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C" bpmnElement="_9F6A2D99-B809-49BB-8B4F-03F511F9A079">
        <di:waypoint x="570" y="365"/>
        <di:waypoint x="570" y="420"/>
        <di:waypoint x="570" y="456"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__22C2152B-F642-4735-95F9-BA16C16C73FF_to_shape__D8831282-B4B7-4933-B28E-480A0E75D33D" bpmnElement="_99671210-1490-4CCF-B5A5-64A9AD2B3263">
        <di:waypoint x="190" y="391"/>
        <di:waypoint x="190" y="519"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__405BC881-8C1F-4267-BD1E-CA72EFE24352_to_shape__690EF5DC-0CD1-4945-BDA8-3E2F7959123A" bpmnElement="_470AC679-3D96-4D20-9DB8-8C0A2FACBC2B">
        <di:waypoint x="773" y="657"/>
        <di:waypoint x="932" y="657"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__C75ED5C2-D4C3-4118-9609-8752BA67B8D4_to_shape__B6F12F65-7678-4D90-B49A-9D6B93EC8735" bpmnElement="_428EC604-947C-4EC3-974E-EFCAB7D9947C">
        <di:waypoint x="715" y="354"/>
        <di:waypoint x="710" y="224"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__4805604E-72AD-46D0-9E91-B67E08D92324_to_shape__E7E3E47F-2DF8-4CB2-B557-42410CCF360A" bpmnElement="_207B7603-7B14-4512-9E58-B632F4EB904D">
        <di:waypoint x="396" y="228"/>
        <di:waypoint x="398" y="364"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__E7E3E47F-2DF8-4CB2-B557-42410CCF360A_to_shape__FA0E4943-5CC9-4393-8A7A-E617AD31B562" bpmnElement="_4CA7720D-DE15-4A42-8772-560152CEB472">
        <di:waypoint x="398" y="364"/>
        <di:waypoint x="570" y="365"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__FA0E4943-5CC9-4393-8A7A-E617AD31B562_to_shape__7A0E74CB-B0AD-44D2-BE03-19F59C496482" bpmnElement="_C08123C7-8108-41C8-9A58-730A118F6B69">
        <di:waypoint x="570" y="365"/>
        <di:waypoint x="570.0000130389736" y="306.9999999999978"/>
        <di:waypoint x="570" y="229.5"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__7A0E74CB-B0AD-44D2-BE03-19F59C496482_to_shape__B6F12F65-7678-4D90-B49A-9D6B93EC8735" bpmnElement="_4581A546-237B-457F-82D7-A9AB3C7E65ED">
        <di:waypoint x="570" y="229.5"/>
        <di:waypoint x="710" y="196"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_shape__B6F12F65-7678-4D90-B49A-9D6B93EC8735_to_shape__02EEFD92-4133-46ED-B55F-C28886A16CED" bpmnElement="_DA2C7E35-E197-4BF2-9E98-6709B83968CC">
        <di:waypoint x="710" y="224"/>
        <di:waypoint x="847" y="222"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters/>
          <bpsim:ElementParameters elementRef="_10DCE6CA-714E-4B17-91DD-9613054AAFBB">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:UniformDistribution max="10" min="5"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_A9B560BC-9F30-4579-B642-ECB17AC610D1">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:UniformDistribution max="10" min="5"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_213693A5-65C4-4E47-ACC9-647F41006CEA">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_07ED1D22-03BA-4F96-BC7B-BA54A8C0B36C">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_C75ED5C2-D4C3-4118-9609-8752BA67B8D4">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_E7E3E47F-2DF8-4CB2-B557-42410CCF360A">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_7A0E74CB-B0AD-44D2-BE03-19F59C496482">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_22C2152B-F642-4735-95F9-BA16C16C73FF">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_4805604E-72AD-46D0-9E91-B67E08D92324">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_405BC881-8C1F-4267-BD1E-CA72EFE24352">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
          <bpsim:ElementParameters elementRef="_02EEFD92-4133-46ED-B55F-C28886A16CED">
            <bpsim:TimeParameters>
              <bpsim:ProcessingTime>
                <bpsim:NormalDistribution mean="0" standardDeviation="0"/>
              </bpsim:ProcessingTime>
            </bpsim:TimeParameters>
            <bpsim:ResourceParameters>
              <bpsim:Availability>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Availability>
              <bpsim:Quantity>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:Quantity>
            </bpsim:ResourceParameters>
            <bpsim:CostParameters>
              <bpsim:UnitCost>
                <bpsim:FloatingParameter value="0"/>
              </bpsim:UnitCost>
            </bpsim:CostParameters>
          </bpsim:ElementParameters>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_bvnqwd5YEDy998ALVT8O5A</bpmn2:source>
    <bpmn2:target>_bvnqwd5YEDy998ALVT8O5A</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>