{
  "resourceType": "Library",
  "id": "GonorrheaLabConfirmedCDS",
  "meta": {
    "versionId": "54",
    "lastUpdated": "2024-02-28T00:46:22.645+00:00",
    "source": "#mTsaSQgBbLqH601k",
    "tag": [ {
      "system": "http://terminology.hl7.org/CodeSystem/v3-ObservationValue",
      "code": "SUBSETTED",
      "display": "Resource encoded in summary mode"
    } ]
  },
  "version": "0.0.1",
  "name": "GonorrheaLabConfirmedCDS",
  "type": {
    "coding": [ {
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "Ly8gTGlicmFyeSBmaWxlIHdpdGggYWxsIENRTCBmb3IgTmVpc3NlcmlhIEdvbm9ycmhlYSBDRFMgdHJlYXRtZW50IHJlY29tbWVuZGF0aW9ucwogIC8vIGZvciBsYWJvcmF0b3J5IGNvbmZpcm1lZCBzY2VuYXJpbwoKLy9saWJyYXJ5IEdDVHhDRFMgdmVyc2lvbiAnMS4wLjAnICAgLy9mb3IgdGVzdGluZyBpbiBWU0NvZGUKbGlicmFyeSBMYWJDb25maXJtZWRHQ1R4Q0RTIHZlcnNpb24gJzEuMC4wJyAgIC8vY29ycmVjdCB2ZXJzaW9uIGZvciBwb3N0aW5nCgp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJyAKaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjAuMScgY2FsbGVkIEZISVJIZWxwZXJzCgoKLy92YWx1ZXNldHMKLy9BbGxlcmd5OiB3aXRoIGFsbCBiZXRhLWxhY3RhbSBpbmdyZWRpZW50cyAKdmFsdWVzZXQgIkJldGEtTGFjdGFtIEFsbGVyZ3kiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjEzLjE1MDAnCgovLyBPYnNlcnZhdGlvbnMsIGluY2x1ZGluZyBsYWJvcmF0b3J5IHJlc3VsdHMKdmFsdWVzZXQgIkJvZHkgd2VpZ2h0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE5Ni4xMzUyJwogIC8vIFRlc3RzIGZvciBHb25vcnJoZWEKdmFsdWVzZXQgIkdvbm9ycmhlYSBUZXN0cyAtIFVyb2dlbml0YWwvQW5vcmVjdGFsIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC9Hb25vcnJoZWFUZXN0c1Vyb2dlbml0YWxBbm9yZWN0YWwnCnZhbHVlc2V0ICJHb25vcnJoZWEgVGVzdHMgLSBQaGFyeW5nZWFsIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC9Hb25vcnJoZWFUZXN0c1BoYXJ5bmdlYWwnCnZhbHVlc2V0ICJHb25vcnJoZWEgVGVzdHMgU2l0ZSBVbnNwZWNpZmllZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvR29ub3JyaGVhVGVzdHNVbnNwZWNTaXRlJwogICAgLy8gYm9keSBzaXRlcywgZm9yIHJlc3VsdHMgd2l0aCBjb2RlcyB0aGF0IGRvbid0IHNwZWNpZnkgdGhlIHNpdGUgLSB3ZSBtYXkgbmVlZCB0aGlzCnZhbHVlc2V0ICJVcm9nZW5pdGFsLUFub3JlY3RhbCBTcGVjaW1lbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk2LjQ0NjcnCnZhbHVlc2V0ICJQaGFyeW5nZWFsIFNwZWNpbWVucyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExOTYuNDQ2NicKCgovLyB2YWx1ZXNldHM6IE1lZGljYXRpb25zCnZhbHVlc2V0ICJDZWZ0cmlheG9uZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExOTYuNDUwMicKdmFsdWVzZXQgIkNlZml4aW1lIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE5Ni4xMzU0Jwp2YWx1ZXNldCAiR2VudGFtaWNpbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvR2VudGFtaWNpbk1lZHMnCnZhbHVlc2V0ICJBeml0aHJvbXljaW4iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk2LjQ0MzcnCnZhbHVlc2V0ICJMaWRvY2FpbmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk2LjQ0NDgnCgovLyBkZWZpbmUgY29kZXMgZm9yIGZpbHRlcmluZyBGSElSIEFsbGVyZ3lJbnRvbGVyYW5jZSAoY2xpbmljYWwgYW5kIHZlcmlmaWNhdGlvbiBzdGF0dXMpCmNvZGVzeXN0ZW0gQWxsZXJneUludG9sZXJhbmNlQ2xpbmljYWw6ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCcKY29kZSAiQWN0aXZlIEFsbGVyZ3kiOiAnYWN0aXZlJyBmcm9tIEFsbGVyZ3lJbnRvbGVyYW5jZUNsaW5pY2FsIGRpc3BsYXkgJ0FjdGl2ZScKCmNvZGVzeXN0ZW0gQWxsZXJneUludG9sZXJhbmNlVmVyaWZpY2F0aW9uOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtdmVyaWZpY2F0aW9uJwpjb2RlICJDb25maXJtZWQgQWxsZXJneSI6ICdjb25maXJtZWQnIGZyb20gQWxsZXJneUludG9sZXJhbmNlVmVyaWZpY2F0aW9uIGRpc3BsYXkgJ0NvbmZpcm1lZCcKY29kZSAiVW5jb25maXJtZWQgQWxsZXJneSI6ICd1bmNvbmZpcm1lZCcgZnJvbSBBbGxlcmd5SW50b2xlcmFuY2VWZXJpZmljYXRpb24gZGlzcGxheSAnVW5jb25maXJtZWQnCgovLyBkZWZpbmUgY29kZSBmb3IgdW5pdHMKY29kZXN5c3RlbSBVbml0c09mTWVhc3VyZTogJ2h0dHA6Ly91bml0c29mbWVhc3VyZS5vcmcnCmNvZGUgIm1nIjogJ21nJyBmcm9tIFVuaXRzT2ZNZWFzdXJlIGRpc3BsYXkgJ21nJwpjb2RlICJnIjogJ2cnIGZyb20gVW5pdHNPZk1lYXN1cmUgZGlzcGxheSAnZycKCi8vIGRlZmluZSBjb2RlIHN5c3RlbSBmb3IgbWVkaWNhdGlvbiBzdGF0dXMKY29kZXN5c3RlbSBNZWRSZXF1ZXN0U3RhdHVzOiAnaHR0cDovL2hsNy5vcmcvZmhpci9WYWx1ZVNldC9tZWRpY2F0aW9ucmVxdWVzdC1zdGF0dXMnCmNvZGUgImFjdGl2ZSI6ICdhY3RpdmUnIGZyb20gTWVkUmVxdWVzdFN0YXR1cyBkaXNwbGF5ICdhY3RpdmUnCmNvZGUgImNvbXBsZXRlZCI6ICdjb21wbGV0ZWQnIGZyb20gTWVkUmVxdWVzdFN0YXR1cyBkaXNwbGF5ICdjb21wbGV0ZWQnCmNvZGUgIm9uLWhvbGQiOiAnb24taG9sZCcgZnJvbSBNZWRSZXF1ZXN0U3RhdHVzIGRpc3BsYXkgJ09uIEhvbGQnCmNvZGUgInN0b3BwZWQiOiAnc3RvcHBlZCcgZnJvbSBNZWRSZXF1ZXN0U3RhdHVzIGRpc3BsYXkgJ1N0b3BwZWQnCmNvZGUgImVuZGVkIjogJ2VuZGVkJyBmcm9tIE1lZFJlcXVlc3RTdGF0dXMgZGlzcGxheSAnRW5kZWQnCgoKY29kZXN5c3RlbSBTTk9NRUQ6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0JwoKLyoKRk9SIEhJViBQUkVQIExPR0lDIE9OTFkgLSBWQUxVRVNFVFMgQU5EIENPREUgU1lTVEVNUy4KCiovCnZhbHVlc2V0ICJISVYgRGlhZ25vc2lzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEyMC4xMi4xMDAzJwoKLy92YWx1ZXNldHMgZm9yIFByRVAgbWVkaWNhdGlvbnMKdmFsdWVzZXQgIk9yYWwgSElWIFByRVAiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk2LjQ0NzAnCnZhbHVlc2V0ICJJbmplY3RhYmxlIEhJViBQckVQIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTE5Ni40NDY5JwoKLy8gdmFsdWVzZXRzIGZvciBISVYgdGVzdHMKdmFsdWVzZXQgIkhJViBMYWIgVGVzdHMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTk2LjQ0NzQnCgovLyBkZWZpbmUgY29kZXMgZm9yIGZpbHRlcmluZyBGSElSIENvbmRpdGlvbnMgKGJhc2VkIHVwb24gY2xpbmljYWwgYW5kIHZlcmlmaWNhdGlvbiBzdGF0dXMpCiAgICAvLyBvbmx5IHVzZWQgZm9yIEhJViBjb25kaXRpb25zCgpjb2Rlc3lzdGVtIENvbmRpdGlvbkNsaW5pY2FsOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9jb25kaXRpb24tY2xpbmljYWwnCmNvZGUgIkFjdGl2ZSBTdGF0dXMiOiAnYWN0aXZlJyBmcm9tIENvbmRpdGlvbkNsaW5pY2FsIGRpc3BsYXkgJ0FjdGl2ZScKY29kZSAiUmVjdXJyZW50IFN0YXR1cyI6ICdyZWN1cnJlbmNlJyBmcm9tIENvbmRpdGlvbkNsaW5pY2FsIGRpc3BsYXkgJ1JlY3VycmVuY2UnCmNvZGUgIlJlbGFwc2UgU3RhdHVzIjogJ3JlbGFwc2UnIGZyb20gQ29uZGl0aW9uQ2xpbmljYWwgZGlzcGxheSAnUmVsYXBzZScKCmNvZGVzeXN0ZW0gQ29uZGl0aW9uVmVyaWZpY2F0aW9uU3RhdHVzOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9jb25kaXRpb24tdmVyLXN0YXR1cycKY29kZSAiQ29uZmlybWVkIFN0YXR1cyI6ICdjb25maXJtZWQnIGZyb20gQ29uZGl0aW9uVmVyaWZpY2F0aW9uU3RhdHVzIGRpc3BsYXkgJ0NvbmZpcm1lZCcKCgovLyBjb250ZXh0IHRvIGRldGVjdCBzcGVjaW1lbgoKY29udGV4dCBVbmZpbHRlcmVkCgpkZWZpbmUgZnVuY3Rpb24gUmV0cmlldmVTcGVjaW1lbkJ5SWQoc3BlY2ltZW5JZCBTeXN0ZW0uU3RyaW5nKSByZXR1cm5zIFNwZWNpbWVuOgogIGlmIHNwZWNpbWVuSWQgaXMgU3lzdGVtLlN0cmluZyB0aGVuCiAgICBzaW5nbGV0b24gZnJvbSAoWyBTcGVjaW1lbjogaWQgPSBzcGVjaW1lbklkIF0gU1BFQyB3aGVyZSBTUEVDIGlzIFNwZWNpbWVuKQogIGVsc2UKICAgIG51bGwKCgpjb250ZXh0IFBhdGllbnQKIAoKLy9mdW5jdGlvbnMgZm9yIGNvbnZlcnRpbmcgY29kZXMKZGVmaW5lIGZ1bmN0aW9uIFRvQ29kZShjb2RpbmcgRkhJUi5Db2RpbmcpOgogIFN5c3RlbS5Db2RlIHsKICAgIGNvZGU6IGNvZGluZy5jb2RlLnZhbHVlLAogICAgc3lzdGVtOiBjb2Rpbmcuc3lzdGVtLnZhbHVlLAogICAgdmVyc2lvbjogY29kaW5nLnZlcnNpb24udmFsdWUsCiAgICBkaXNwbGF5OiBjb2RpbmcuZGlzcGxheS52YWx1ZQogIH0KCmRlZmluZSBmdW5jdGlvbiBUb0NvZGVzKGNvZGluZyBMaXN0PEZISVIuQ29kaW5nPik6CiAgY29kaW5nIGMgcmV0dXJuIFRvQ29kZShjKQoKCi8vIGRlZmluZSBmdW5jdGlvbnMgdG8gcmV0dXJuIE1lZGljYXRpb25zIHdpdGggbWVkaWNhdGlvbiBhcyBjb2RlCmRlZmluZSBmdW5jdGlvbiBHZXRNZWRSZXFNZWRBc0NvZGUgKE1lZFJlcXMgTGlzdDxNZWRpY2F0aW9uUmVxdWVzdD4pOgogIE1lZFJlcXMgUngKICAgIGxldCBNZWQ6IFtNZWRpY2F0aW9uOiBpZCBpbiAoTGFzdChTcGxpdCgoUngubWVkaWNhdGlvbiBhcyBGSElSLlJlZmVyZW5jZSkucmVmZXJlbmNlLCAnLycpKSldLAogICAgSXRlbXM6IGlmIENvdW50KE1lZC5pbmdyZWRpZW50KT4wIHRoZW4gTWVkLmluZ3JlZGllbnQuaXRlbSBlbHNlIHt9LAogICAgICAvLyBzdGFydCBoZXJlIHRvIGhhcmRjb2RlIDMgaW5ncmVkaWVudCByZWZlcmVuY2VzCiAgICBJdGVtMFJlZjogaWYgQ291bnQoSXRlbXMpID4gMCBhbmQgSXRlbXNbMF0gaXMgUmVmZXJlbmNlIHRoZW4gW01lZGljYXRpb246IGlkIGluIChMYXN0KFNwbGl0KChJdGVtc1swXSBhcyBGSElSLlJlZmVyZW5jZSkucmVmZXJlbmNlLCAnLycpKSldIGVsc2UgbnVsbCwKICAgIEl0ZW0xUmVmOiBpZiBDb3VudChJdGVtcykgPiAxIGFuZCBJdGVtc1sxXSBpcyBSZWZlcmVuY2UgdGhlbiBbTWVkaWNhdGlvbjogaWQgaW4gKExhc3QoU3BsaXQoKEl0ZW1zWzFdIGFzIEZISVIuUmVmZXJlbmNlKS5yZWZlcmVuY2UsICcvJykpKV0gZWxzZSBudWxsLAogICAgSXRlbTJSZWY6IGlmIENvdW50KEl0ZW1zKSA+IDIgYW5kIEl0ZW1zWzJdIGlzIFJlZmVyZW5jZSB0aGVuIFtNZWRpY2F0aW9uOiBpZCBpbiAoTGFzdChTcGxpdCgoSXRlbXNbMl0gYXMgRkhJUi5SZWZlcmVuY2UpLnJlZmVyZW5jZSwgJy8nKSkpXSBlbHNlIG51bGwsCiAgICBJdGVtMFJlZkNvZGU6IGlmIEl0ZW0wUmVmIGlzIG5vdCBudWxsIHRoZW4gSXRlbTBSZWYuY29kZS5jb2RpbmcgZWxzZSB7fSwKICAgIEl0ZW0xUmVmQ29kZTogaWYgSXRlbTFSZWYgaXMgbm90IG51bGwgdGhlbiBJdGVtMVJlZi5jb2RlLmNvZGluZyBlbHNlIHt9LAogICAgSXRlbTJSZWZDb2RlOiBpZiBJdGVtMlJlZiBpcyBub3QgbnVsbCB0aGVuIEl0ZW0wUmVmLmNvZGUuY29kaW5nIGVsc2Uge30sCgogICAgSXRlbTBDb2RlOiBpZiBDb3VudChJdGVtcykgPiAwIGFuZCBJdGVtc1swXSBpcyBDb2RlYWJsZUNvbmNlcHQgdGhlbiAgKEl0ZW1zWzBdIGFzIENvZGVhYmxlQ29uY2VwdCkuY29kaW5nIGVsc2Uge30sCiAgICBJdGVtMUNvZGU6IGlmIENvdW50KEl0ZW1zKSA+IDEgYW5kIEl0ZW1zWzFdIGlzIENvZGVhYmxlQ29uY2VwdCB0aGVuICAoSXRlbXNbMV0gYXMgQ29kZWFibGVDb25jZXB0KS5jb2RpbmcgZWxzZSB7fSwKICAgIEl0ZW0yQ29kZTogaWYgQ291bnQoSXRlbXMpID4gMiBhbmQgSXRlbXNbMl0gaXMgQ29kZWFibGVDb25jZXB0IHRoZW4gIChJdGVtc1syXSBhcyBDb2RlYWJsZUNvbmNlcHQpLmNvZGluZyBlbHNlIHt9LAoKICAgIEl0ZW1Db2RlczogKEl0ZW0wQ29kZSB1bmlvbiBJdGVtMUNvZGUpIHVuaW9uIEl0ZW0yQ29kZSwKICAgIEl0ZW1SZWZDb2RlczogKEl0ZW0wUmVmQ29kZSB1bmlvbiBJdGVtMVJlZkNvZGUpIHVuaW9uIEl0ZW0yUmVmQ29kZSwKICAgIEFsbEl0ZW1Db2RlczogSXRlbUNvZGVzIHVuaW9uIEl0ZW1SZWZDb2RlcywKICAgIEFsbE1lZENvZGVzOiBNZWQuY29kZS5jb2RpbmcgdW5pb24gQWxsSXRlbUNvZGVzLAogICAgTWVkQ29kZTogRkhJUi5Db2RlYWJsZUNvbmNlcHQge2NvZGluZzogQWxsTWVkQ29kZXN9CiAgcmV0dXJuIAogICAgTWVkaWNhdGlvblJlcXVlc3QgewogICAgICBpZDogUnguaWQsCiAgICAgIHN0YXR1czogUnguc3RhdHVzLAogICAgICBpbnRlbnQ6IFJ4LmludGVudCwKICAgICAgY2F0ZWdvcnk6IFJ4LmNhdGVnb3J5LAogICAgICBtZWRpY2F0aW9uOiBpZiBSeC5tZWRpY2F0aW9uIGlzIFJlZmVyZW5jZSB0aGVuIE1lZENvZGUgZWxzZSBSeC5tZWRpY2F0aW9uIGFzIENvZGVhYmxlQ29uY2VwdCwKICAgICAgc3ViamVjdDogUnguc3ViamVjdCwKICAgICAgYXV0aG9yZWRPbjogUnguYXV0aG9yZWRPbiwKICAgICAgcmVjb3JkZXI6IFJ4LnJlY29yZGVyLAogICAgICBkb3NhZ2VJbnN0cnVjdGlvbjogUnguZG9zYWdlSW5zdHJ1Y3Rpb24sCiAgICAgIGRpc3BlbnNlUmVxdWVzdDogUnguZGlzcGVuc2VSZXF1ZXN0CiAgICB9CgoKLy9PdGhlciBmdW5jdGlvbnMgbmVlZGVkIGZvciBzZWxlY3RpbmcgZGF0YToKLy8gRm9yIG1vc3QgcmVjZW50IHJlc3VsdCBvciBvYnNlcnZhdGlvbiAoZm9yIHdlaWdodCwgY3VsdHVyZSByZXN1bHRzKToKZGVmaW5lIGZ1bmN0aW9uIE1vc3RSZWNlbnQoT2JzTGlzdCBMaXN0PE9ic2VydmF0aW9uPik6CiAgTGFzdChPYnNMaXN0IE8gc29ydCBieSBDb2FsZXNjZSgKICAgIChlZmZlY3RpdmUgYXMgRkhJUi5kYXRlVGltZSkudmFsdWUsCiAgICAoZWZmZWN0aXZlIGFzIEZISVIuaW5zdGFudCkudmFsdWUsCiAgICAoZWZmZWN0aXZlIGFzIEZISVIuUGVyaW9kKS4iZW5kIi52YWx1ZSwKICAgIChlZmZlY3RpdmUgYXMgRkhJUi5QZXJpb2QpLiJzdGFydCIudmFsdWUsCiAgICBpc3N1ZWQudmFsdWUpCiAgKQoKICAvLyBGdW5jdGlvbiB0byBhY2NvdW50IGZvciBtdWx0aXBsZSBkb3NlcyBpbiBNZWRpY2F0aW9uIFJlcXVlc3RzLCB0byBzZWxlY3QgImNhbGN1bGF0ZWQiCmRlZmluZSBmdW5jdGlvbiBHZXRDYWxjdWxhdGVkRG9zZUFuZFJhdGUoZCBEb3NhZ2UpOgogIGQgZG9zYWdlCiAgbGV0CiAgICBmaXJzdERvc2U6IEZpcnN0KGRvc2FnZS5kb3NlQW5kUmF0ZSksCiAgICBjYWxjRG9zZTogRmlyc3QoZG9zYWdlLmRvc2VBbmRSYXRlIGRyIHdoZXJlIGRyLnR5cGUudGV4dD0nY2FsY3VsYXRlZCcpLAogICAgc2VsZWN0ZWREb3NlOiBDb2FsZXNjZShjYWxjRG9zZSwgZmlyc3REb3NlKQogIHJldHVybiBzZWxlY3RlZERvc2UKCgpkZWZpbmUgZnVuY3Rpb24gR2V0TWVkRG9zZShNZWRSZXEgTWVkaWNhdGlvblJlcXVlc3QpOgogICAgTWVkUmVxIE1SCmxldAogICAgICBkb3NhZ2U6IHNpbmdsZXRvbiBmcm9tIE1SLmRvc2FnZUluc3RydWN0aW9uLAogICAgICBkb3NlQW5kUmF0ZTogR2V0Q2FsY3VsYXRlZERvc2VBbmRSYXRlKGRvc2FnZSksICAKICAgICAgZG9zZVJhbmdlOiBkb3NlQW5kUmF0ZS5kb3NlIGFzIFJhbmdlLAogICAgICBkb3NlUXVhbnRpdHk6IGRvc2VBbmRSYXRlLmRvc2UgYXMgU2ltcGxlUXVhbnRpdHksCiAgICAgIHJhbmdlSGlnaDogZG9zZVJhbmdlLmhpZ2ggYXMgU2ltcGxlUXVhbnRpdHksCiAgICAgIGRvc2U6IENvYWxlc2NlKGRvc2VRdWFudGl0eSwgcmFuZ2VIaWdoKQogICAgcmV0dXJuIGRvc2UKCi8vIGZ1bmN0aW9uIGZvciBjaGVja2luZyBmb3IgYW55IGRvc2UgaW4gd2hhdCBtYXkgYmUgbXVsdGlwbGUgYWRtaW5pc3RyYXRpb25zCmRlZmluZSBmdW5jdGlvbiBHZXRMaXN0TWVkRG9zZXMoTWVkUmVxIExpc3Q8TWVkaWNhdGlvblJlcXVlc3Q+KToKICAgIE1lZFJlcSBNUgpsZXQKICAgICAgZG9zYWdlOiBzaW5nbGV0b24gZnJvbSBNUi5kb3NhZ2VJbnN0cnVjdGlvbiwKICAgICAgZG9zZUFuZFJhdGU6IEdldENhbGN1bGF0ZWREb3NlQW5kUmF0ZShkb3NhZ2UpLAogICAgICBkb3NlUmFuZ2U6IGRvc2VBbmRSYXRlLmRvc2UgYXMgUmFuZ2UsCiAgICAgIGRvc2VRdWFudGl0eTogZG9zZUFuZFJhdGUuZG9zZSBhcyBTaW1wbGVRdWFudGl0eSwKICAgICAgcmFuZ2VIaWdoOiBkb3NlUmFuZ2UuaGlnaCBhcyBTaW1wbGVRdWFudGl0eSwKICAgICAgZG9zZTogQ29hbGVzY2UoZG9zZVF1YW50aXR5LCByYW5nZUhpZ2gpCiAgICByZXR1cm4gZG9zZQoKZGVmaW5lIGZ1bmN0aW9uIEdldE1lZENvdW50KE1lZFJlcSBNZWRpY2F0aW9uUmVxdWVzdCk6CiAgICBNZWRSZXEgTVIKICBsZXQKICAgIGRvc2FnZTogc2luZ2xldG9uIGZyb20gTVIuZG9zYWdlSW5zdHJ1Y3Rpb24sCiAgICBjb3VudDogZG9zYWdlLnRpbWluZy5yZXBlYXQuY291bnQgYXMgaW50ZWdlcgogICAgcmV0dXJuIGNvdW50CgogICAKLyoKKiAgRGVmaW5pbmcgdmFyaWFibGVzIGFzIGdyb3VwcyBvZiBwYXRpZW50cywgZm9yIGluY2x1c2lvbi9leGNsdXNpb24gY3JpdGVyaWEsCiogICBhbmQgdmFyaW91cyBzdWJwb3B1bGF0aW9ucyBieSBhdmFpbGFibGUgZGF0YQoqLyAKCi8vUGF0aWVudCBncm91cHMgYnkgZGVtb2dyYXBoaWNzLiBBZ2UgbXVzdCBiZSA+PSAxMyB5ZWFycyBmb3IgYW55IHJ1bGUgdG8gYXBwbHkKZGVmaW5lIFBhdGllbnRBZ2U6CiAgQWdlSW5ZZWFycygpCgpkZWZpbmUgSXNBZG9sZXNjZW50T3JBZHVsdDoKCQlQYXRpZW50QWdlID49IDEzCgpkZWZpbmUgSXNXb21hbk9mQ2hpbGRiZWFyaW5nQWdlOgogICAgUGF0aWVudC5nZW5kZXIgIT0gJ21hbGUnIGFuZCBQYXRpZW50QWdlIDwgNTAgYW5kIFBhdGllbnRBZ2UgPj0xMwoKLy8gQWxsZXJneUludG9sZXJhbmNlIHRvIEJldGEtTGFjdGFtOgpkZWZpbmUgQWN0aXZlQWxsZXJnaWVzOgogIFtBbGxlcmd5SW50b2xlcmFuY2VdIEEgd2hlcmUgCiAgIAkoQS5jbGluaWNhbFN0YXR1cyBpcyBudWxsIG9yCiAgICAgICAgKEEuY2xpbmljYWxTdGF0dXMgfiAiQWN0aXZlIEFsbGVyZ3kiKSkgYW5kCiAgCShBLnZlcmlmaWNhdGlvblN0YXR1cyBpcyBudWxsIG9yCiAgICAgICAoQS52ZXJpZmljYXRpb25TdGF0dXMgfiAiQ29uZmlybWVkIEFsbGVyZ3kiKSApCiAgIApkZWZpbmUgSGFzQmV0YUxhY3RhbUFsbGVyZ3k6CiAgZXhpc3RzKEFjdGl2ZUFsbGVyZ2llcyBBIHdoZXJlCiAgICAoKEEuY29kZSBpbiAiQmV0YS1MYWN0YW0gQWxsZXJneSIpICkpCgpkZWZpbmUgSGFzTGlkb2NhaW5lQWxsZXJneToKICBleGlzdHMoQWN0aXZlQWxsZXJnaWVzIEEgd2hlcmUKICAgICgoQS5jb2RlIGluICJMaWRvY2FpbmUiKSApKQogIAoKLy9XZWlnaHQgTWVhc3VyZW1lbnRzLCBzZWxlY3RpbmcgdGhlIG1vc3QgcmVjZW50LCBvciBudWxsIGlmIG5vbmUgaW4gdGhlIGxhc3QgMiB5ZWFycyAKZGVmaW5lIEJvZHlXZWlnaHRNZWFzdXJlbWVudHM6CiAgICBbT2JzZXJ2YXRpb246IGNvZGUgaW4gIkJvZHkgd2VpZ2h0Il0gIAoKZGVmaW5lIEhhc05vV2VpZ2h0T25SZWNvcmQ6CiAgbm90IGV4aXN0cyBCb2R5V2VpZ2h0TWVhc3VyZW1lbnRzIFcgCiAgICB3aGVyZSAoKFcuZWZmZWN0aXZlIGFmdGVyIFRvZGF5KCkgLSA2IG1vbnRocykpCgpkZWZpbmUgTW9zdFJlY2VudFdlaWdodDoKICBNb3N0UmVjZW50KEJvZHlXZWlnaHRNZWFzdXJlbWVudHMpCgpkZWZpbmUgSGFzV2VpZ2h0TGVzc1RoYW4xNTBLZzoKICAoKE1vc3RSZWNlbnRXZWlnaHQudmFsdWUgPCAxNTAgJ2tnJykgLy9vciAoTW9zdFJlY2VudFdlaWdodC52YWx1ZSA8IDMzMC43ICdsYicpCiAgICApCiAgICBhbmQgbm90IEhhc05vV2VpZ2h0T25SZWNvcmQKCmRlZmluZSBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnOgogICgoTW9zdFJlY2VudFdlaWdodC52YWx1ZSA+PSAxNTAgJ2tnJykgLy9vciAoTW9zdFJlY2VudFdlaWdodC52YWx1ZSA+PSAzMzAuNyAnbGInKQogICAgKQogICAgYW5kIChub3QgSGFzTm9XZWlnaHRPblJlY29yZCkKCgovKgoqCiogIExBQk9SQVRPUlktQ09ORklSTUVEIFNDRU5BUklPCiogICBGb3IgQ0RTIEhvb2sgInBhdGllbnQtdmlldyIsIGluIHRoZSBzZXR0aW5nIG9mIGEgbGFib3JhdG9yeSBjb25maXJtZWQgY2FzZSB3aXRoIGluYWRlcXVhdGUgdHJlYXRtZW50CioKKi8KCi8vIGRhdGEgYWJvdXQgbGFzdCBHQyB0ZXN0LCB0byBkZXRlcm1pbmUgaWYgYWRlcXVhdGVseSB0cmVhdGVkCmRlZmluZSBmdW5jdGlvbiBHZXREYXRlT2ZUZXN0IChMYWIgT2JzZXJ2YXRpb24pOgogIExhYiBMIAogICBsZXQgCiAgIERhdGU6IGlmIEwuZWZmZWN0aXZlIGlzIGRhdGVUaW1lIHRoZW4gTC5lZmZlY3RpdmUgYXMgZGF0ZVRpbWUKICAgIGVsc2UgaWYgTC5lZmZlY3RpdmUgaXMgUGVyaW9kIHRoZW4gTC5lZmZlY3RpdmUuZW5kIGFzIGRhdGVUaW1lCiAgICBlbHNlIGlmIEwuZWZmZWN0aXZlIGlzIGluc3RhbnQgdGhlbiBMLmVmZmVjdGl2ZSBhcyBkYXRlVGltZQogICAgZWxzZSBudWxsICAvL2hlcmUgbm90IHVzaW5nIHRoZSB0eXBlICJ0aW1pbmciIG9mIHRoZSBjaG9pY2UgZWZmZWN0aXZlW1hdCiAgcmV0dXJuIERhdGUKCgovL0ZpcnN0IGNoZWNraW5nIGZvciBnb25vcnJoZWEgdGVzdHMgcmVzdWx0cywgYnV0IG9ubHkgbG9va2JhY2sgdG8gcGFzdCA2IHdlZWtzCiAgICAvLyAqKiogSWYgd2UgZW5kIHVwIHVzaW5nIGRpZmZlcmVudCBMT0lOQyBjb2RlcyBmb3Igc2l0ZSwgdGhpcyBuZWVkcyB0byBiZSByZXZpc2VkIGJ5IG1ha2luZyBhIGdyb3VwaW5nIFZTCiAgICAvLyBvZiBhbGwgZ29ub3JyaGVhIHRlc3RzCmRlZmluZSBBbGxHQ0xhYnM6CiAgW09ic2VydmF0aW9uOiBjb2RlIGluICJHb25vcnJoZWEgVGVzdHMgU2l0ZSBVbnNwZWNpZmllZCJdCiAgTCB3aGVyZSBMLmVmZmVjdGl2ZSBhZnRlciAoVG9kYXkoKSAtIDQyIGRheXMpIAogICAgYW5kIEwuc3RhdHVzIGluIHsnZmluYWwnLCAnYW1lbmRlZCd9IAoKLyoKICoqKiBOb3RlOiBmb3IgaW1wbGVtZW50YXRpb24gYXQgWWFsZSwgd2UgYXJlIG5vdCB1c2luZyBzaXRlLXNwZWNpZmljIExPSU5DIGNvZGVzLgogSG93ZXZlciwgb3RoZXIgY2xpbmljYWwgc2l0ZXMgbWF5IHVzZSBib2R5LXNpdGUgc3BlY2lmaWMgTE9JTkMgY29kZXMsIGluIHdoaWNoIGNhc2UsIAogIHRoZSBmb2xsb3dpbmcgZGVmaW5pdGlvbnMgd2lsbCBiZSBuZWNlc3NhcnkuCgpkZWZpbmUgR0NUZXN0c1VHQVI6CiAgQWxsR0NMYWJzIEwgd2hlcmUKICAgIEwuY29kZSBpbiAiR29ub3JyaGVhIFRlc3RzIC0gVXJvZ2VuaXRhbC9Bbm9yZWN0YWwiCgpkZWZpbmUgR0NUZXN0c1BoYXJ5bmdlYWw6CkFsbEdDTGFicyBMIHdoZXJlCiAgICBMLmNvZGUgaW4gIkdvbm9ycmhlYSBUZXN0cyAtIFBoYXJ5bmdlYWwiCgpkZWZpbmUgR0NUZXN0c1NpdGVVbnNwZWM6CkFsbEdDTGFicyBMIHdoZXJlCiAgICBMLmNvZGUgaW4gIkdvbm9ycmhlYSBUZXN0cyBTaXRlIFVuc3BlY2lmaWVkIgoKZGVmaW5lIEdDVGVzdHM6CiAgR0NUZXN0c1VHQVIgdW5pb24gR0NUZXN0c1BoYXJ5bmdlYWwgdW5pb24gR0NUZXN0c1NpdGVVbnNwZWMKKi8KCmRlZmluZSBNb3N0UmVjZW50R0NUZXN0OgovLyAgTW9zdFJlY2VudChHQ1Rlc3RzKQogICAgTW9zdFJlY2VudChBbGxHQ0xhYnMpCgpkZWZpbmUgUG9zaXRpdmVMYXN0R0NUZXN0OgogIE1vc3RSZWNlbnRHQ1Rlc3QgVCB3aGVyZSAKICAgIGV4aXN0cyAoVC5pbnRlcnByZXRhdGlvbi5jb2RpbmcgVEMgd2hlcmUgVEMuY29kZSBpbiB7J0EnLCAnREVUJywgJ1BPUycsICdSUid9KQoKZGVmaW5lIEhhc1Bvc2l0aXZlTGFzdEdDVGVzdDoKICBQb3NpdGl2ZUxhc3RHQ1Rlc3QgaXMgbm90IG51bGwKCiAgLy8gRGF0ZSBvZiBwb3MgdGVzdApkZWZpbmUgRGF0ZU9mUG9zR0NUZXN0OgogIEdldERhdGVPZlRlc3QoUG9zaXRpdmVMYXN0R0NUZXN0KQoKZGVmaW5lIFNwZWNpbWVuSWRPZlBvc0dDVGVzdDoKICAgIExhc3QoU3BsaXQoUG9zaXRpdmVMYXN0R0NUZXN0LnNwZWNpbWVuLnJlZmVyZW5jZSwgJy8nKSkKLy8gIExhc3QoU3BsaXQoTW9zdFJlY2VudEdDVGVzdC5zcGVjaW1lbi5yZWZlcmVuY2UsICcvJykpCgpkZWZpbmUgU3BlY2ltZW5PZlBvc0dDVGVzdDoKICBSZXRyaWV2ZVNwZWNpbWVuQnlJZChMYXN0KFNwbGl0KFBvc2l0aXZlTGFzdEdDVGVzdC5zcGVjaW1lbi5yZWZlcmVuY2UsICcvJykpKQovLyAgUmV0cmlldmVTcGVjaW1lbkJ5SWQoTGFzdChTcGxpdChNb3N0UmVjZW50R0NUZXN0LnNwZWNpbWVuLnJlZmVyZW5jZSwgJy8nKSkpCiAgCgogICAgLy8gaGVyZSBkZWZpbmluZyB1cm9nZW5pdGFsL2Fub3JlY3RhbCBpZiBOTyBzcGVjaW1lbiByZXNvdXJjZSBpcyBhdmFpbGFibGUKZGVmaW5lIEhhc1VHQVJMYXN0UG9zR0M6CiAgKFBvc2l0aXZlTGFzdEdDVGVzdCBpcyBub3QgbnVsbCkgYW5kIAogICgoU3BlY2ltZW5PZlBvc0dDVGVzdC5jb2xsZWN0aW9uLmJvZHlTaXRlIGluICJVcm9nZW5pdGFsLUFub3JlY3RhbCBTcGVjaW1lbnMiKQogICAgb3IgKFNwZWNpbWVuT2ZQb3NHQ1Rlc3QgaXMgbnVsbCkpIAogICAgYW5kIEhhc1Bvc2l0aXZlTGFzdEdDVGVzdAogIApkZWZpbmUgSGFzUGhhckxhc3RQb3NHQzoKICAoUG9zaXRpdmVMYXN0R0NUZXN0IGlzIG5vdCBudWxsKSBhbmQgKFNwZWNpbWVuT2ZQb3NHQ1Rlc3QuY29sbGVjdGlvbi5ib2R5U2l0ZSBpbiAiUGhhcnluZ2VhbCBTcGVjaW1lbnMiKSAKICAgIGFuZCBIYXNQb3NpdGl2ZUxhc3RHQ1Rlc3QKCiAgICAvLyBoZXJlIGNoZWNraW5nIGZvciBwcmVzZW5jZSBvZiBhbiBhZGRpdGlvbmFsIHBoYXJ5bmdlYWwgR0MgaW4gZGF5IHByaW9yIHRvIFVHQVIgb25lCgpkZWZpbmUgUG9zR0NUZXN0c0RheVByaW9yOgovL2RlZmluZSBQb3NQaGFyR0NUZXN0RGF5UHJpb3I6CiAgQWxsR0NMYWJzIFAgd2hlcmUKICAvL0dDVGVzdHNQaGFyeW5nZWFsIFAgd2hlcmUgCiAgICBQLmVmZmVjdGl2ZSBhZnRlciAoRGF0ZU9mUG9zR0NUZXN0IC0gMjQgaG91cnMgKQogICAgYW5kIGV4aXN0cyAoUC5pbnRlcnByZXRhdGlvbi5jb2RpbmcgUEMgd2hlcmUgUEMuY29kZSBpbiB7J0EnLCAnREVUJywgJ1BPUycsICdSUid9KQoKZGVmaW5lIFNpbmdsZVRlc3REYXlQcmlvcjoKICAgUG9zR0NUZXN0c0RheVByaW9yWzFdCgpkZWZpbmUgU3BlY2ltZW5PZlRlc3REYXlQcmlvcjoKICAgIFJldHJpZXZlU3BlY2ltZW5CeUlkKExhc3QoU3BsaXQoKFNpbmdsZVRlc3REYXlQcmlvciBhcyBPYnNlcnZhdGlvbikuc3BlY2ltZW4ucmVmZXJlbmNlLCAnLycpKSkKCmRlZmluZSBIYXNBZGRpdGlvbmFsUGhhclBvc0dDOgogIChTaW5nbGVUZXN0RGF5UHJpb3IgaXMgbm90IG51bGwpIGFuZAogIChTcGVjaW1lbk9mVGVzdERheVByaW9yLmNvbGxlY3Rpb24uYm9keVNpdGUgaW4gIlBoYXJ5bmdlYWwgU3BlY2ltZW5zIikKCgovLyBDaGVja2luZyBmb3IgbWVkaWNhdGlvbnMgc2luY2UgZGF0ZSBvZiBwb3NpdGl2ZSBHQyB0ZXN0CmRlZmluZSBNZWRzU2luY2VQb3NHQzoKICAgIFtNZWRpY2F0aW9uUmVxdWVzdF0gTSB3aGVyZQogICAoTS5hdXRob3JlZE9uIGFmdGVyIChEYXRlT2ZQb3NHQ1Rlc3QgLSAyNCBob3VycykgYW5kCiAgICAgKE0uc3RhdHVzIGluIHsnYWN0aXZlJywgJ2NvbXBsZXRlZCcsICdvbi1ob2xkJywgJ3N0b3BwZWQnLCAnZW5kZWQnfSkgYW5kCiAgICAgKE0uZG9Ob3RQZXJmb3JtID0gZmFsc2Ugb3IgTS5kb05vdFBlcmZvcm0gaXMgbnVsbCApKQoKICAvL0J5IGluZGl2aWR1YWwgYWdlbnQ6IGNlZnRyaWF4b25lIGRvc2VzIC0tIGRvIG5vdCBuZWVkIHRvIGNoZWNrIGZvciBJTSBoZXJlIHNpbmNlIElWIGlzIGFjY2VwdGFibGUKZGVmaW5lIENlZnRyaWF4U2luY2VQb3NHQzoKICAoR2V0TWVkUmVxTWVkQXNDb2RlKE1lZHNTaW5jZVBvc0dDKSkgTiB3aGVyZSBOLm1lZGljYXRpb24gaW4gIkNlZnRyaWF4b25lIgoKZGVmaW5lIENlZnRyaWF4RG9zZXNTaW5jZVBvc0dDOgogIEdldExpc3RNZWREb3NlcyhDZWZ0cmlheFNpbmNlUG9zR0MpCgogIC8vbmVlZCB0byBub3JtYWxpemUgZG9zZXMgYnkgdW5pdApkZWZpbmUgZnVuY3Rpb24gR2V0TWVkRG9zZXNJbk1nIChEb3NlcyBMaXN0PEZISVIuU2ltcGxlUXVhbnRpdHk+KToKICBEb3NlcyBkCiAgbGV0IERvc2VzSW5NZzogaWYgZC51bml0IH4gJ2cnIHRoZW4gKGQudmFsdWUudmFsdWUgKiAxMDAwKSBlbHNlIGQudmFsdWUudmFsdWUKICByZXR1cm4gRG9zZXNJbk1nCgoKZGVmaW5lIENlZnRyaWF4RG9zZXNTaW5jZVBvc0dDTGlzdDogCiAgR2V0TWVkRG9zZXNJbk1nKENlZnRyaWF4RG9zZXNTaW5jZVBvc0dDKQoKICAvLyBjaGVja2luZyBmb3IgcmVjZWl2ZWQgZG9zZXMuIG5hbWUgaXMgIkdyZWF0ZXIgVGhhbiIgYnV0IGxvZ2ljIGlzID49CiAgICAvLyBhbGwgbm9ybWFsaXplZCB0byBtaWxsaWdyYW1zCmRlZmluZSBIYWRDZWZ0cmlheEdUNTAwU2luY2VQb3NHQzoKICBleGlzdHMoQ2VmdHJpYXhEb3Nlc1NpbmNlUG9zR0NMaXN0IEQgd2hlcmUgRCA+PSA1MDApCgpkZWZpbmUgSGFkQ2VmdHJpYXhHVDFHU2luY2VQb3NHQzoKICBleGlzdHMoQ2VmdHJpYXhEb3Nlc1NpbmNlUG9zR0NMaXN0IEQgd2hlcmUgRCA+PSAxMDAwKQoKICAvL0NlZml4aW1lLCB3aGljaCBpcyBvbmx5IG9yYWwKZGVmaW5lIENlZml4aW1lU2luY2VQb3NHQzoKICAoR2V0TWVkUmVxTWVkQXNDb2RlKE1lZHNTaW5jZVBvc0dDKSkgTiB3aGVyZSBOLm1lZGljYXRpb24gaW4gIkNlZml4aW1lIgoKZGVmaW5lIENlZml4aW1lRG9zZXNTaW5jZVBvc0dDOgogIEdldExpc3RNZWREb3NlcyhDZWZpeGltZVNpbmNlUG9zR0MpCgpkZWZpbmUgQ2VmaXhpbWVEb3Nlc1NpbmNlUG9zR0NNZzoKICBHZXRNZWREb3Nlc0luTWcoQ2VmaXhpbWVEb3Nlc1NpbmNlUG9zR0MpCgpkZWZpbmUgSGFkQ2VmaXhpbWU4MDBTaW5jZVBvc0dDOgogIGV4aXN0cyhDZWZpeGltZURvc2VzU2luY2VQb3NHQ01nIEQgd2hlcmUgRCA+PTgwMCkKCiAgLy9HZW50YW1pY2luLCBoZXJlIG5vdCBjaGVja2luZyBmb3Igcm91dGUKZGVmaW5lIEdlbnRhbWljaW5TaW5jZVBvc0dDOgogIChHZXRNZWRSZXFNZWRBc0NvZGUoTWVkc1NpbmNlUG9zR0MpKSBOIHdoZXJlIE4ubWVkaWNhdGlvbiBpbiAiR2VudGFtaWNpbiIKCmRlZmluZSBHZW50RG9zZXNTaW5jZVBvc0dDOgogIEdldExpc3RNZWREb3NlcyhHZW50YW1pY2luU2luY2VQb3NHQykKCmRlZmluZSBHZW50RG9zZXNTaW5jZVBvc0dDTWc6CiAgR2V0TWVkRG9zZXNJbk1nKEdlbnREb3Nlc1NpbmNlUG9zR0MpCgpkZWZpbmUgSGFkR2VudDI0MFNpbmNlUG9zR0M6CiAgZXhpc3RzKEdlbnREb3Nlc1NpbmNlUG9zR0NNZyBEIHdoZXJlIEQgPj0yNDApCgogIC8vQXppdGhyb215Y2luLCBoZXJlIG5vdCBjaGVja2luZyBmb3Igcm91dGUKZGVmaW5lIEF6aXRocm9TaW5jZVBvc0dDOgogIChHZXRNZWRSZXFNZWRBc0NvZGUoTWVkc1NpbmNlUG9zR0MpKSBOIHdoZXJlIE4ubWVkaWNhdGlvbiBpbiAiQXppdGhyb215Y2luIgoKZGVmaW5lIEF6aXRocm9Eb3Nlc1NpbmNlUG9zR0M6CiAgR2V0TGlzdE1lZERvc2VzKEF6aXRocm9TaW5jZVBvc0dDKQoKZGVmaW5lIEF6aXRocm9Eb3Nlc1NpbmNlUG9zR0NNZzoKICBHZXRNZWREb3Nlc0luTWcoQXppdGhyb0Rvc2VzU2luY2VQb3NHQykKCmRlZmluZSBIYWRBeml0aHJvMkdTaW5jZVBvc0dDOiAKICBleGlzdHMoQXppdGhyb0Rvc2VzU2luY2VQb3NHQ01nIEQgd2hlcmUgRCA+PTIwMDApCgoKLy8gRGVmaW5pbmcgZ3JvdXBzIHdpdGggVU5UUkVBVEVEIGdvbm9ycmhlYSwgYnkgc2l0ZQogIC8vIEFsbGVyZ3kgc3RhdHVzIGRvZXMgbm90IHJlYWxseSBtYXR0ZXIgaW4gY2hlY2tpbmcgZm9yIGhpc3Rvcnkgb2YgdHJlYXRtZW50CgoKZGVmaW5lIEhhc1VudHJlYXRlZFVHQVJHQzoKICBIYXNVR0FSTGFzdFBvc0dDIGFuZCAKICAgICggbm90ICgoSGFzV2VpZ2h0TGVzc1RoYW4xNTBLZyBvciBIYXNOb1dlaWdodE9uUmVjb3JkKSBhbmQgSGFkQ2VmdHJpYXhHVDUwMFNpbmNlUG9zR0MpKQogICAgICBhbmQgKG5vdCAoSGFzV2VpZ2h0R3JlYXRlclRoYW4xNTBLZyBhbmQgSGFkQ2VmdHJpYXhHVDFHU2luY2VQb3NHQykpCiAgICAgIGFuZCAobm90IEhhZENlZml4aW1lODAwU2luY2VQb3NHQykKICAgICAgYW5kIChub3QgKEhhZEdlbnQyNDBTaW5jZVBvc0dDIGFuZCBIYWRBeml0aHJvMkdTaW5jZVBvc0dDKSkKICAgICAKCmRlZmluZSBIYXNVbnRyZWF0ZWRQaGFyR0M6CiAgKEhhc1BoYXJMYXN0UG9zR0Mgb3IgSGFzQWRkaXRpb25hbFBoYXJQb3NHQykgYW5kCiAgICggbm90IChIYXNXZWlnaHRMZXNzVGhhbjE1MEtnIGFuZCBIYWRDZWZ0cmlheEdUNTAwU2luY2VQb3NHQykKICAgICAgYW5kICggbm90IChIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnIGFuZCBIYWRDZWZ0cmlheEdUMUdTaW5jZVBvc0dDKSkKICAgICkKCi8vIENvbGxlY3RpdmUgZ3JvdXAgZm9yIGFueSB1bnRyZWF0ZWQgbGFiLWNvbmZpcm1lZCBHQywgZm9yIEVDQSBydWxlCmRlZmluZSBOZWVkc0FueUxhYkNvbmZpcm1lZEdDVHhSZWM6CiAgSXNBZG9sZXNjZW50T3JBZHVsdCBhbmQgSGFzUG9zaXRpdmVMYXN0R0NUZXN0IGFuZCAoSGFzVW50cmVhdGVkVUdBUkdDIG9yIEhhc1VudHJlYXRlZFBoYXJHQykKCgovKgoqICBDRFMgSG9va3MgY2FyZCBvdXRwdXQKKiAgIFRleHQgdG8gY29uY2F0ZW5hdGUsIGZvciB0aGUgInBhdGllbnQtdmlldyIgaG9vawoqLwoKICAgIC8vSW5kaWNhdG9yIGNhdGVnb3J5IGZvciBhbGwgY2FyZHMgaW4gdGhpcyBwcm9qZWN0CmRlZmluZSBDYXJkSW5kaWNhdG9yQ2F0ZWdvcnk6CiAgJ3dhcm5pbmcnCgovLyBGb3IgdGl0bGU6IG9ubHkgdmFyaWF0aW9uIGlzIGJ5IHNpdGUKZGVmaW5lIENhcmRUaXRsZUNvbmZpcm1lZEdDOgogIGlmIEhhc1VudHJlYXRlZFVHQVJHQyB0aGVuICdBdHRlbnRpb246IEdvbm9ycmhlYSB0cmVhdG1lbnQgbmVlZGVkJwogIGVsc2UgaWYgSGFzVW50cmVhdGVkUGhhckdDIHRoZW4gJ0F0dGVudGlvbjogUGhhcnluZ2VhbCBnb25vcnJoZWEgdHJlYXRtZW50IG5lZWRlZCcKICBlbHNlIG51bGwKCi8vIFRleHQgdG8gY29uY2F0ZW5hdGUgZm9yICJEZXRhaWwiIHRleHQKZGVmaW5lIEdDUmVzdWx0VGV4dDoKICBpZiBIYXNVbnRyZWF0ZWRVR0FSR0MgdGhlbiAnTmV3IHBvc2l0aXZlIGdvbm9ycmhlYSB0ZXN0OiAnCiAgZWxzZSBpZiBIYXNVbnRyZWF0ZWRQaGFyR0MgdGhlbiAnTmV3IHBvc2l0aXZlIHBoYXJ5bmdlYWwgZ29ub3JyaGVhIHRlc3Q6JwogIGVsc2UgbnVsbAoKZGVmaW5lIEdDUmVzdWx0RGF0YToKICBpZiBIYXNBZGRpdGlvbmFsUGhhclBvc0dDIHRoZW4gKChTaW5nbGVUZXN0RGF5UHJpb3IgYXMgT2JzZXJ2YXRpb24pLmNvZGUudGV4dCArICcgLSAnICsgKFNpbmdsZVRlc3REYXlQcmlvciBhcyBPYnNlcnZhdGlvbikudmFsdWUudGV4dCkKICBlbHNlIGlmIChIYXNVR0FSTGFzdFBvc0dDIG9yIEhhc1BoYXJMYXN0UG9zR0MpIHRoZW4gKFBvc2l0aXZlTGFzdEdDVGVzdC5jb2RlLnRleHQgKyAnIC0gJyArIFBvc2l0aXZlTGFzdEdDVGVzdC52YWx1ZS50ZXh0KQogIGVsc2UgbnVsbAoKICAvLyBUaGUgc3BlY2lmaWMgdHJlYXRtZW50IHJlY29tbWVuZGF0aW9uIHRleHRzLCBoZXJlIGluIGVudGlyZXR5IGJ5IGdyb3VwCiAgICAvLyBVcm9nZW5pdGFsIC8gQW5vcmVjdGFsIEdDLCB3ZWlnaGluZyA8MTUwIGtnLCBObyBhbGxlcmd5LCBOb3Qgd29tZW4gb2YgY2hpbGRiZWFyaW5nIGFnZQpkZWZpbmUgVUdBUkdDVGV4dFd0TFQxNTBOb0FsbGVyZ3lOb3RXY2JhOgogICdSZWNvbW1lbmRlZCByZWdpbWVuOiAKQ2VmdHJpYXhvbmUgNTAwIG1nIElNIHggMSAoZm9yIHBhdGllbnRzIHdlaWdoaW5nIDwxNTAga2cpCkFjY2VwdGFibGUgYWx0ZXJuYXRpdmU6IENlZml4aW1lIDgwMCBtZyBwbyB4MScKICAgICAgLy8gYXMgYWJvdmUgYnV0IHdlaWdodCA+MTUwIGtnCmRlZmluZSBVR0FSR0NUZXh0V3RHVDE1ME5vQWxsZXJneU5vdFdjYmE6CiAgJ1JlY29tbWVuZGVkIHJlZ2ltZW4gZm9yIHBhdGllbnRzID49MTUwIGtnOiAKQ2VmdHJpYXhvbmUgMSBnIElNIHggMQpBY2NlcHRhYmxlIGFsdGVybmF0aXZlOiBDZWZpeGltZSA4MDAgbWcgcG8geDEnCgogICAgLy8gVGV4dCBmb3IgVUdBUiBHcm91cHMgZm9yIHdvbWVuIG9mIGNoaWxkYmVhcmluZyBhZ2UKZGVmaW5lIFVHQVJHQ1RleHRXdExUMTUwTm9BbGxlcmd5V0NCQToKICAnUmVjb21tZW5kZWQgcmVnaW1lbjogCi0gTm9uLXByZWduYW50OiBDZWZ0cmlheG9uZSA1MDAgbWcgSU0geCAxLCBvciBDZWZpeGltZSA4MDAgbWcgcG8geDEKLSBQcmVnbmFudDogQ2VmdHJpYXhvbmUgNTAwIG1nIElNIHgxIG9yIGNvbnN1bHQgSUQgaWYgdW5hYmxlIHRvIHVzZSBjZWZ0cmlheG9uZScKCmRlZmluZSBVR0FSR0NUZXh0V3RHVDE1ME5vQWxsZXJneVdDQkE6CiAgJ1JlY29tbWVuZGVkIHJlZ2ltZW4gZm9yIHBhdGllbnRzID49MTUwIGtnOgotIE5vbi1wcmVnbmFudDogQ2VmdHJpYXhvbmUgMWcgSU0geDEsIG9yIENlZml4aW1lIDgwMCBtZyBwbyB4MQotIFByZWduYW50OiBDZWZ0cmlheG9uZSA1MDBtZyBJTSB4MSBvciBjb25zdWx0IElEIGlmIHVuYWJsZSB0byB1c2UgY2VmdHJpYXhvbmUnCgogIC8vIFBoYXJ5bmdlYWwgR0MsIHdpdGggbm8gYWxsZXJneQpkZWZpbmUgUGhhckdDVGV4dFd0TFQxNTBOb0FsbGVyZ3lJbmNsdWRlc1djYmE6CiAgJ1JlY29tbWVuZGVkIHJlZ2ltZW46Ci0gQ2VmdHJpYXhvbmUgNTAwIG1nIElNIHgxCklmIHVuYWJsZSB0byB1c2UgY2VmdHJpYXhvbmUsIGNvbnN1bHQgSUQnCgpkZWZpbmUgUGhhckdDVGV4dFd0R1QxNTBOb0FsbGVyZ3lOb3RXY2JhOgogICdSZWNvbW1lbmRlZCByZWdpbWVuIGZvciBwYXRpZW50cyA+PTE1MCBrZzoKLSBDZWZ0cmlheG9uZSAxIGcgSU0geDEKSWYgdW5hYmxlIHRvIHVzZSBjZWZ0cmlheG9uZSwgY29uc3VsdCBJRCcKCmRlZmluZSBQaGFyR0NUZXh0V3RHVDE1ME5vQWxsZXJneVdDQkE6CiAgJ1JlY29tbWVuZGVkIHJlZ2ltZW4gZm9yIHBhdGllbnRzID49MTUwIGtnOiAKLSBOb24tcHJlZ25hbnQ6IENlZnRyaWF4b25lIDEgZyBJTSB4IDEKLSBQcmVnbmFudDogQ2VmdHJpYXhvbmUgNTAwIG1nIElNIHgxCklmIHVuYWJsZSB0byB1c2UgY2VmdHJpYXhvbmUsIGNvbnN1bHQgSUQnCgogIC8vIFNjZW5hcmlvcyB3aXRoIGEgYmV0YS1sYWN0YW0gYWxsZXJneQogICAgLy8gVXJvZ2VuaXRhbCwgbm90IFdDQkEKZGVmaW5lIFVHQVJHQ1RleHRXaXRoQWxsZXJneU5vdFdjYmE6CiAgJ1BsZWFzZSBjb25zdWx0IHlvdXIgaW5zdGl0dXRpb25cJ3MgaW50ZXJuYWwgcG9saWNpZXMgZm9yIG1hbmFnaW5nIGFsbGVyZ3kvc2Vuc2l0aXZpdHkuIAogIElmIGNlZnRyaWF4b25lIGFsbGVyZ3kgaXMgYSBjb25jZXJuLCB0aGUgcmVjb21tZW5kZWQgcmVnaW1lbiBpcyBCT1RIIGdlbnRhbWljaW4gMjQwIG1nIElNIHgxIGFuZCBheml0aHJvbXljaW4gMiBnIFBPIHgxLiAoQXppdGhyb215Y2luIGFsc28gY292ZXJzIGNobGFteWRpYS4pCiAgT3RoZXJ3aXNlLCB1c2Ugd2VpZ2h0LWJhc2VkIGNlZnRyaWF4b25lICg1MDAgbWcsIG9yIDFnIGlmIHdlaWdodCA+MTUwIGtnKScKICAgIC8vIHVyb2dlbml0YWwsIGluIFdDQkEKZGVmaW5lIFVHQVJHQ1RleHRXaXRoQWxsZXJneVdDQkE6CiAgJ1BsZWFzZSBjb25zdWx0IHlvdXIgaW5zdGl0dXRpb25cJ3MgaW50ZXJuYWwgcG9saWNpZXMgZm9yIG1hbmFnaW5nIGFsbGVyZ3kvc2Vuc2l0aXZpdHkuIAogIElmIGNlZnRyaWF4b25lIGFsbGVyZ3kgaXMgYSBjb25jZXJuLCB0aGUgcmVjb21tZW5kZWQgcmVnaW1lbiBpczoKICAtIE5vbi1wcmVnbmFudDogQk9USCBnZW50YW1pY2luIDI0MCBtZyBJTSB4MSBhbmQgYXppdGhyb215Y2luIDIgZyBQTyB4MS4gKEF6aXRocm9teWNpbiBhbHNvIGNvdmVycyBjaGxhbXlkaWEuKQogIC0gUHJlZ25hbnQ6IGNvbmZpcm0gdGhlIHNldmVyaXR5IG9mIHRoZSBhbGxlcmd5LCBjb25zaWRlciBhbiBJRCBjb25zdWx0CiAgT3RoZXJ3aXNlLCB1c2Ugd2VpZ2h0LWJhc2VkIGNlZnRyaWF4b25lICg1MDAgbWcsIG9yIDEgZyBpZiB3ZWlnaHQgPjE1MCBrZyBvciBwcmVnbmFudCknCgpkZWZpbmUgUGhhckdDVGV4dFdpdGhBbGxlcmd5OgogICdQbGVhc2UgY29uc3VsdCB5b3VyIGluc3RpdHV0aW9uXCdzIGludGVybmFsIHBvbGljaWVzIGZvciBtYW5hZ2luZyBhbGxlcmd5L3NlbnNpdGl2aXR5LiAKICBUaGUgcmVjb21tZW5kZWQgcmVnaW1lbiBmb3IgcGhhcnluZ2VhbCBnb25vcnJoZWEgaXMgd2VpZ2h0LWJhc2VkIGNlZnRyaWF4b25lIG9ubHkgKDUwMCBtZywgb3IgMSBnIGlmIHdlaWdodCA+MTUwIGtnKS4KICBJZiBhbGxlcmd5IGlzIGEgY29uY2VybiwgY29uc2lkZXIgYW4gSUQgY29uc3VsdC4nCgpkZWZpbmUgUGhhckdDVGV4dFdpdGhBbGxlcmd5V0NCQToKICAnUGxlYXNlIGNvbnN1bHQgeW91ciBpbnN0aXR1dGlvblwncyBpbnRlcm5hbCBwb2xpY2llcyBmb3IgbWFuYWdpbmcgYWxsZXJneS9zZW5zaXRpdml0eS4gCiAgVGhlIHJlY29tbWVuZGVkIHJlZ2ltZW4gZm9yIHBoYXJ5bmdlYWwgZ29ub3JyaGVhIGlzIHdlaWdodC1iYXNlZCBjZWZ0cmlheG9uZSBvbmx5ICg1MDAgbWcsIG9yIDEgZyBpZiB3ZWlnaHQgPjE1MCBrZyBhbmQgbm90IHByZWduYW50KS4KICBJZiBhbGxlcmd5IGlzIGEgY29uY2VybiwgY29uc2lkZXIgYW4gSUQgY29uc3VsdC4nCgoKLy8gTG9naWMgZm9yIHdoYXQgdGV4dCB0byBkaXNwbGF5LCBieSBncm91cHMgYWJvdmUKZGVmaW5lIFJlY29tbWVuZGVkQ29uZmlybWVkR0NUeFRleHQ6CiAgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgKEhhc1dlaWdodExlc3NUaGFuMTUwS2cgb3IgSGFzTm9XZWlnaHRPblJlY29yZCkgYW5kIChub3QgSGFzQmV0YUxhY3RhbUFsbGVyZ3kpIGFuZCAobm90IElzV29tYW5PZkNoaWxkYmVhcmluZ0FnZSkpCiAgICB0aGVuIFVHQVJHQ1RleHRXdExUMTUwTm9BbGxlcmd5Tm90V2NiYQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgSGFzV2VpZ2h0R3JlYXRlclRoYW4xNTBLZyBhbmQgbm90IEhhc0JldGFMYWN0YW1BbGxlcmd5IGFuZCAobm90IElzV29tYW5PZkNoaWxkYmVhcmluZ0FnZSkpCiAgICB0aGVuIFVHQVJHQ1RleHRXdEdUMTUwTm9BbGxlcmd5Tm90V2NiYQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgKEhhc1dlaWdodExlc3NUaGFuMTUwS2cgb3IgSGFzTm9XZWlnaHRPblJlY29yZCkgYW5kIChub3QgSGFzQmV0YUxhY3RhbUFsbGVyZ3kpIGFuZCBJc1dvbWFuT2ZDaGlsZGJlYXJpbmdBZ2UpCiAgICB0aGVuIFVHQVJHQ1RleHRXdExUMTUwTm9BbGxlcmd5V0NCQQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgSGFzV2VpZ2h0R3JlYXRlclRoYW4xNTBLZyBhbmQgKG5vdCBIYXNCZXRhTGFjdGFtQWxsZXJneSkgYW5kIElzV29tYW5PZkNoaWxkYmVhcmluZ0FnZSkKICAgIHRoZW4gVUdBUkdDVGV4dFd0R1QxNTBOb0FsbGVyZ3lXQ0JBCiAgZWxzZSBpZiAoSGFzVW50cmVhdGVkUGhhckdDIGFuZCAoSGFzV2VpZ2h0TGVzc1RoYW4xNTBLZyBvciBIYXNOb1dlaWdodE9uUmVjb3JkKSBhbmQgKG5vdCBIYXNCZXRhTGFjdGFtQWxsZXJneSkpCiAgICB0aGVuIFBoYXJHQ1RleHRXdExUMTUwTm9BbGxlcmd5SW5jbHVkZXNXY2JhCiAgZWxzZSBpZiAoSGFzVW50cmVhdGVkUGhhckdDIGFuZCBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnIGFuZCAobm90IEhhc0JldGFMYWN0YW1BbGxlcmd5KSBhbmQgKG5vdCBJc1dvbWFuT2ZDaGlsZGJlYXJpbmdBZ2UpKQogICAgdGhlbiBQaGFyR0NUZXh0V3RHVDE1ME5vQWxsZXJneU5vdFdjYmEKICBlbHNlIGlmIChIYXNVbnRyZWF0ZWRQaGFyR0MgYW5kIEhhc1dlaWdodEdyZWF0ZXJUaGFuMTUwS2cgYW5kIChub3QgSGFzQmV0YUxhY3RhbUFsbGVyZ3kpIGFuZCBJc1dvbWFuT2ZDaGlsZGJlYXJpbmdBZ2UpCiAgICB0aGVuIFBoYXJHQ1RleHRXdEdUMTUwTm9BbGxlcmd5V0NCQQogICAgLy8gc2NlbmFyaW9zIHdpdGggYmV0YS1sYWN0YW0gYWxsZXJneQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgSGFzQmV0YUxhY3RhbUFsbGVyZ3kgYW5kIChub3QgSXNXb21hbk9mQ2hpbGRiZWFyaW5nQWdlKSkKICAgIHRoZW4gVUdBUkdDVGV4dFdpdGhBbGxlcmd5Tm90V2NiYQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFVHQVJHQyBhbmQgSGFzQmV0YUxhY3RhbUFsbGVyZ3kgYW5kIElzV29tYW5PZkNoaWxkYmVhcmluZ0FnZSkKICAgIHRoZW4gVUdBUkdDVGV4dFdpdGhBbGxlcmd5V0NCQQogIGVsc2UgaWYgKEhhc1VudHJlYXRlZFBoYXJHQyBhbmQgSGFzQmV0YUxhY3RhbUFsbGVyZ3kgYW5kIChub3QgSXNXb21hbk9mQ2hpbGRiZWFyaW5nQWdlKSkKICAgIHRoZW4gUGhhckdDVGV4dFdpdGhBbGxlcmd5CiAgZWxzZSBpZiAoSGFzVW50cmVhdGVkUGhhckdDIGFuZCBIYXNCZXRhTGFjdGFtQWxsZXJneSBhbmQgSXNXb21hbk9mQ2hpbGRiZWFyaW5nQWdlKQogICAgdGhlbiBQaGFyR0NUZXh0V2l0aEFsbGVyZ3lXQ0JBCiAgZWxzZSBudWxsCgpkZWZpbmUgQ2FyZERldGFpbFRleHRDb25maXJtZWRHQzoKICBHQ1Jlc3VsdFRleHQgKyBHQ1Jlc3VsdERhdGEgKyAnXG4nICsgUmVjb21tZW5kZWRDb25maXJtZWRHQ1R4VGV4dAoKLy8gRGVmaW5pbmcgZ3JvdXBzIGZvciBzcGVjaWZpYyBzdWdnZXN0ZWQgb3JkZXJzIHRvIG9mZmVyCiAgLy8gU2ltaWxhciB0byB0aGUgcHJlc3VtcHRpdmUgdHJlYXRtZW50IHNjZW5hcmlvLCBoZXJlIGFwcGVuZGVkIHdpdGggIkxDIiBmb3IgIkxhYkNvbmZpcm1lZCIKCiAgLy9maXJzdCB0aGUgZGVmYXVsdCBtZWRzLCB3aXRoIGxpZG8sIGZvciB0aG9zZSB3aXRob3V0IGEgbGlkb2NhaW5lIGFsbGVyZ3kKZGVmaW5lIE5lZWRzQ2VmdHJpYXg1MDBQcmVjaGVja2VkTEM6CiAgTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCAoSGFzV2VpZ2h0TGVzc1RoYW4xNTBLZyBvciBIYXNOb1dlaWdodE9uUmVjb3JkKQogICAgYW5kIChub3QgSGFzQmV0YUxhY3RhbUFsbGVyZ3kpIGFuZCAobm90IEhhc0xpZG9jYWluZUFsbGVyZ3kpCgpkZWZpbmUgTmVlZHNDZWZ0cmlheDUwME9wdGlvbkxDOgogICgoTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnIGFuZCBJc1dvbWFuT2ZDaGlsZGJlYXJpbmdBZ2UpCiAgIG9yIChOZWVkc0FueUxhYkNvbmZpcm1lZEdDVHhSZWMgYW5kIChIYXNXZWlnaHRMZXNzVGhhbjE1MEtnIG9yIEhhc05vV2VpZ2h0T25SZWNvcmQpIGFuZCBIYXNCZXRhTGFjdGFtQWxsZXJneSkgICkKICAgIGFuZCAobm90IEhhc0xpZG9jYWluZUFsbGVyZ3kpCgpkZWZpbmUgTmVlZHNDZWZ0cmlheDEwMDBQcmVjaGVja2VkTEM6CiAgTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnCiAgICBhbmQgKG5vdCBIYXNCZXRhTGFjdGFtQWxsZXJneSkgYW5kIChub3QgSGFzTGlkb2NhaW5lQWxsZXJneSkKCmRlZmluZSBOZWVkc0NlZnRyaWF4MTAwME9wdGlvbkxDOgogIE5lZWRzQW55TGFiQ29uZmlybWVkR0NUeFJlYyBhbmQgSGFzV2VpZ2h0R3JlYXRlclRoYW4xNTBLZwogICAgYW5kIEhhc0JldGFMYWN0YW1BbGxlcmd5IGFuZCAobm90IEhhc0xpZG9jYWluZUFsbGVyZ3kpCgogIC8vY2VmdHJpYXhvbmUgc3VnZ2VzdGlvbnMgZm9yIHBhdGllbnRzIHdpdGggbGlkb2NhaW5lIGFsbGVyZ3kKZGVmaW5lIE5lZWRzQ2VmdHJpYXg1MDBOb0xpZG9QcmVjaGVja2VkTEM6CiAgTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCAoSGFzV2VpZ2h0TGVzc1RoYW4xNTBLZyBvciBIYXNOb1dlaWdodE9uUmVjb3JkKQogICAgYW5kIChub3QgSGFzQmV0YUxhY3RhbUFsbGVyZ3kpIGFuZCBIYXNMaWRvY2FpbmVBbGxlcmd5CgpkZWZpbmUgTmVlZHNDZWZ0cmlheDUwME5vTGlkb09wdGlvbkxDOgogICgoTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnIGFuZCBJc1dvbWFuT2ZDaGlsZGJlYXJpbmdBZ2UpCiAgIG9yIChOZWVkc0FueUxhYkNvbmZpcm1lZEdDVHhSZWMgYW5kIChIYXNXZWlnaHRMZXNzVGhhbjE1MEtnIG9yIEhhc05vV2VpZ2h0T25SZWNvcmQpIGFuZCBIYXNCZXRhTGFjdGFtQWxsZXJneSkgICkKICAgIGFuZCBIYXNMaWRvY2FpbmVBbGxlcmd5CgpkZWZpbmUgTmVlZHNDZWZ0cmlheDEwMDBOb0xpZG9QcmVjaGVja2VkTEM6CiAgTmVlZHNBbnlMYWJDb25maXJtZWRHQ1R4UmVjIGFuZCBIYXNXZWlnaHRHcmVhdGVyVGhhbjE1MEtnCiAgICBhbmQgKG5vdCBIYXNCZXRhTGFjdGFtQWxsZXJneSkgYW5kIEhhc0xpZG9jYWluZUFsbGVyZ3kKCmRlZmluZSBOZWVkc0NlZnRyaWF4MTAwME5vTGlkb09wdGlvbkxDOgogIE5lZWRzQW55TGFiQ29uZmlybWVkR0NUeFJlYyBhbmQgSGFzV2VpZ2h0R3JlYXRlclRoYW4xNTBLZwogICAgYW5kIEhhc0JldGFMYWN0YW1BbGxlcmd5IGFuZCBIYXNMaWRvY2FpbmVBbGxlcmd5CgogIC8vIG90aGVyIGFsbGVyZ3kgb3B0aW9ucwpkZWZpbmUgTmVlZHNBbGxlcmd5T3B0aW9uc0xDOgogIE5lZWRzQW55TGFiQ29uZmlybWVkR0NUeFJlYyBhbmQgKG5vdCBIYXNVbnRyZWF0ZWRQaGFyR0MpIGFuZCBIYXNCZXRhTGFjdGFtQWxsZXJneQoKCi8vICBDQVJEIE9WRVJSSURFIFJFQVNPTlMgLSBkeW5hbWljYWxseSBkZWZpbmVkIGhlcmUgZm9yIHBsYW4gZGVmaW5pdGlvbgoKCiAgLy8gT3ZlcnJpZGUgcmVhc29ucyBmb3IgbGFiLWNvbmZpcm1lZCBzY2VuYXJpbwpkZWZpbmUgb3ZlcnJpZGVSZWFzb25zRm9yTGFiQ29uZmlybWVkQ2FyZDogIHsKICAgIEZISVIuQ29kZWFibGVDb25jZXB0IHsKICAgICAgY29kaW5nOiB7CiAgICAgICAgRkhJUi5Db2Rpbmcge3N5c3RlbTogRkhJUi51cmkge3ZhbHVlOiAnaHR0cDovL2VsaW11LmlvL292ZXJyaWRlJ30sIGNvZGU6IEZISVIuY29kZSB7dmFsdWU6ICdhbHJlYWR5dHJlYXRlZCd9LCBkaXNwbGF5OiBGSElSLnN0cmluZyB7dmFsdWU6ICdQYXRpZW50IGFscmVhZHkgdHJlYXRlZCcgfX0sCiAgICAgICAgRkhJUi5Db2Rpbmcge3N5c3RlbTogRkhJUi51cmkge3ZhbHVlOiAnaHR0cDovL2VsaW11LmlvL292ZXJyaWRlJ30sIGNvZGU6IEZISVIuY29kZSB7dmFsdWU6ICdub3RwcmltYXJ5dGVhbSd9LCBkaXNwbGF5OiBGSElSLnN0cmluZyB7dmFsdWU6ICdJIGFtIG5vdCB0aGUgcHJpbWFyeSB0ZWFtJyB9fSwKICAgICAgICBGSElSLkNvZGluZyB7c3lzdGVtOiBGSElSLnVyaSB7dmFsdWU6ICdodHRwOi8vZWxpbXUuaW8vb3ZlcnJpZGUnfSwgY29kZTogRkhJUi5jb2RlIHt2YWx1ZTogJ290aGVyJ30sIGRpc3BsYXk6IEZISVIuc3RyaW5nIHt2YWx1ZTogJ090aGVyJyB9fQogICAgICB9CiAgICB9CiAgfQoKCgoKLyoKKiAgIE9OTFkgRk9SIEhJViBQUkVQIFJFQ1MgCioKKiAgY29waWVkIGZyb20gUHJlc3VtcHRpdmUgdHJlYXRtZW50IHNjZW5hcmlvCiovCgovLyBUbyBleGNsdWRlIHBhdGllbnRzIHdpdGggSElWIGRpYWdub3NlcwpkZWZpbmUgUGF0aWVudENvbmRpdGlvbnM6CiAgW0NvbmRpdGlvbl0gQyB3aGVyZQogIAkoQy5jbGluaWNhbFN0YXR1cyBpcyBudWxsIG9yCiAgICAgICAgKEMuY2xpbmljYWxTdGF0dXMgfiAiQWN0aXZlIFN0YXR1cyIpICkgICBhbmQKICAJKEMudmVyaWZpY2F0aW9uU3RhdHVzIGlzIG51bGwgb3IKICAgICAgIChDLnZlcmlmaWNhdGlvblN0YXR1cyB+ICJDb25maXJtZWQgU3RhdHVzIikgKQoKZGVmaW5lIEhhc0hJVkRpYWdub3NpczoKCQlleGlzdHMoUGF0aWVudENvbmRpdGlvbnMpIEMgd2hlcmUgQy5jb2RlIGluICJISVYgRGlhZ25vc2lzIiAKCi8vIFJldHJpZXZpbmcgcmVjZW50IG1lZGljYXRpb25zIHRvIGxvb2sgZm9yIHByZXNlbmNlIG9mIFByRVAKICAvLyBQYXN0IHllYXIgZm9yIGluamVjdGFibGUKZGVmaW5lIE1lZFJlcXNQYXN0WWVhcjoKICBbTWVkaWNhdGlvblJlcXVlc3RdIE0gd2hlcmUgKE0uYXV0aG9yZWRPbiBhZnRlciAoVG9kYXkoKSAtIDM2NSBkYXlzKQogIGFuZCAoTS5zdGF0dXMgaW4geydhY3RpdmUnLCAnY29tcGxldGVkJywgJ29uLWhvbGQnLCAnc3RvcHBlZCcsICdlbmRlZCd9KSBhbmQKICAoTS5kb05vdFBlcmZvcm0gPSBmYWxzZSBvciBNLmRvTm90UGVyZm9ybSBpcyBudWxsICkpCgpkZWZpbmUgSW5qZWN0YWJsZVByRVBNZWRSZXFzUGFzdFllYXI6CiAgICAoKEdldE1lZFJlcU1lZEFzQ29kZShNZWRSZXFzUGFzdFllYXIpKSBOIHdoZXJlIE4ubWVkaWNhdGlvbiBpbiAiSW5qZWN0YWJsZSBISVYgUHJFUCIpCgpkZWZpbmUgSXNPbkluamVjdGFibGVQckVQOgogICAgZXhpc3RzKChHZXRNZWRSZXFNZWRBc0NvZGUoTWVkUmVxc1Bhc3RZZWFyKSkgTiB3aGVyZSBOLm1lZGljYXRpb24gaW4gIkluamVjdGFibGUgSElWIFByRVAiKQogIC8vICBJbmplY3RhYmxlUHJFUE1lZFJlcXNQYXN0WWVhciBpcyBub3QgbnVsbAoKICAvLyBQYXN0IDMgbW9udGhzIGZvciBvcmFsIFByRVAgZm9ybXVsYXRpb25zCmRlZmluZSBNZWRSZXFzUGFzdDNNb250aHM6CiAgTWVkUmVxc1Bhc3RZZWFyIE0gd2hlcmUgKE0uYXV0aG9yZWRPbiBhZnRlciAoVG9kYXkoKSAtIDMgbW9udGhzKSkKCmRlZmluZSBPcmFsUHJFUE1lZFJlcXNQYXN0M01vbnRoczoKICAoKEdldE1lZFJlcU1lZEFzQ29kZShNZWRSZXFzUGFzdDNNb250aHMpKSBOIHdoZXJlIE4ubWVkaWNhdGlvbiBpbiAiT3JhbCBISVYgUHJFUCIpCgpkZWZpbmUgSXNPbk9yYWxQckVQOgogIGV4aXN0cygoR2V0TWVkUmVxTWVkQXNDb2RlKE1lZFJlcXNQYXN0M01vbnRocykpIE4gd2hlcmUgTi5tZWRpY2F0aW9uIGluICJPcmFsIEhJViBQckVQIikKICAvLyBPcmFsUHJFUE1lZFJlcXNQYXN0M01vbnRocyBpcyBub3QgbnVsbAoKCi8vIENoZWNraW5nIGZvciBISVYgdGVzdHMKZGVmaW5lIEhJVkxhYlJlc3VsdHMyV2Vla3M6CgkJW09ic2VydmF0aW9uOiBjb2RlIGluICJISVYgTGFiIFRlc3RzIl0gTyB3aGVyZQogICAgICBPLmVmZmVjdGl2ZSBhZnRlciBUb2RheSgpIC0gMTQgZGF5cwoKZGVmaW5lIE1vc3RSZWNlbnRISVZSZXN1bHQ6CiAgTW9zdFJlY2VudChISVZMYWJSZXN1bHRzMldlZWtzKQoKZGVmaW5lIE5lZ2F0aXZlTGFzdEhJVlRlc3Q6CiAgICBNb3N0UmVjZW50SElWUmVzdWx0IFQgd2hlcmUKICAgIGV4aXN0cyAoVC5pbnRlcnByZXRhdGlvbi5jb2RpbmcgVEMgd2hlcmUgVEMuY29kZSBpbiB7J04nLCAnTkQnLCAnTkVHJywgJ05SJ30pIAogLy8gICBhbmQJTy5zdGF0dXMgaW4geydmaW5hbCcsICdhbWVuZGVkJ30KCmRlZmluZSBQb3NpdGl2ZUxhc3RISVZUZXN0OgogIE1vc3RSZWNlbnRISVZSZXN1bHQgVCB3aGVyZQogICAgZXhpc3RzIChULmludGVycHJldGF0aW9uLmNvZGluZyBUQyB3aGVyZSBUQy5jb2RlIGluIHsnQScsICdERVQnLCAnUE9TJywgJ1JSJ30pCiAgLy8gICAgICBhbmQJTy5zdGF0dXMgaW4geydmaW5hbCcsICdhbWVuZGVkJ30KCmRlZmluZSBIYXNQb3NpdGl2ZUxhc3RISVZUZXN0OgogIFBvc2l0aXZlTGFzdEhJVlRlc3QgaXMgbm90IG51bGwKCmRlZmluZSBIYXNOZWdhdGl2ZUxhc3RISVZUZXN0OgogIE5lZ2F0aXZlTGFzdEhJVlRlc3QgaXMgbm90IG51bGwKCmRlZmluZSBISVZQZW5kaW5nUmVzdWx0czFXZWVrOgoJCUhJVkxhYlJlc3VsdHMyV2Vla3MgTyB3aGVyZQogICAgICBPLmVmZmVjdGl2ZSBhZnRlciBUb2RheSgpIC0gNyBkYXlzIGFuZAoJCQlPLnN0YXR1cyBpbiB7J3JlZ2lzdGVyZWQnLCAncHJlbGltaW5hcnknfQoKZGVmaW5lIE1vc3RSZWNlbnRISVZQZW5kaW5nUmVzdWx0czoKICBNb3N0UmVjZW50KEhJVlBlbmRpbmdSZXN1bHRzMVdlZWspCgpkZWZpbmUgSGFzUGVuZGluZ0xhc3RISVZSZXN1bHQ6CiAgTW9zdFJlY2VudEhJVlBlbmRpbmdSZXN1bHRzIGlzIG5vdCBudWxsCgovLyBEZWZpbmUgZXhjbHVzaW9uIGZvciBISVYgUHJFUCByZWNvbW1lbmRhdGlvbnMKZGVmaW5lIEhhc0V4Y2x1c2lvblByRVBSZWNzOgogIEhhc0hJVkRpYWdub3NpcyBvciBIYXNQb3NpdGl2ZUxhc3RISVZUZXN0IG9yIElzT25JbmplY3RhYmxlUHJFUCBvciBJc09uT3JhbFByRVAKCiAgLy9ObyBuZWdhdGl2ZSBvciBwZW5kaW5nIEhJViB0ZXN0czogdGhpcyBkZWZpbmVzIHdobyBnZXRzIHByZWNoZWNrZWQgSElWIHRlc3Qgc3VnZ2VzdGlvbgpkZWZpbmUgSGFzTm9SZWNlbnRISVZUZXN0OgogIE1vc3RSZWNlbnRISVZSZXN1bHQgaXMgbnVsbAovLyAgbm90IChleGlzdHMoSElWTGFiUmVzdWx0czJXZWVrcykpCgovKgoqICAgRGVmaW5pbmcgZ3JvdXAgdGhhdCBuZWVkIEhJViBQckVQIHJlY29tbWVuZGF0aW9ucwoqICAgICBBbnkgd2hvIGFyZSBnZXR0aW5nIGFuIG9yZGVyIGZvciBJTSBjZWZ0cmlheG9uZSAoZm9yIG5vdyBub3QgZG9pbmcgbGFiLWNvbmZpcm1lZCBnb25vcnJoZWEpCiogICAgIGV4Y2x1ZGluZyB0aG9zZSBvbiBQckVQIG9yIHdpdGggSElWCiovCgpkZWZpbmUgTmVlZHNBbnlISVZQcmVwUmVjOgogIEhhc1Bvc2l0aXZlTGFzdEdDVGVzdCBhbmQgKG5vdCBIYXNFeGNsdXNpb25QckVQUmVjcykKLy8gIE5lZWRzQW55TGFiQ29uZmlybWVkR0NUeFJlYyBhbmQgKG5vdCBIYXNFeGNsdXNpb25QckVQUmVjcykKCi8qCiogICBISVYgUHJFUCByZWNvbW1lbmRhdGlvbiBjYXJkcwoqCiovCgpkZWZpbmUgQ2FyZFRpdGxlSElWUmVjczoKICBpZiBIYXNOb1JlY2VudEhJVlRlc3QgdGhlbiAnQXR0ZW50aW9uOiBwb3RlbnRpYWwgbmVlZCBmb3IgSElWIHRlc3RpbmcgYW5kIHByb3BoeWxheGlzJwogICAgZWxzZSAvLyBpZiAoSGFzTmVnYXRpdmVMYXN0SElWVGVzdCBvciBIYXNQZW5kaW5nTGFzdEhJVlJlc3VsdCkgdGhlbgogICAgICdBdHRlbnRpb246IHBvdGVudGlhbCBjYW5kaWRhdGUgZm9yIEhJViBwcm9waHlsYXhpcycKICAgIC8vIGVsc2UgbnVsbAoKZGVmaW5lIEhJVlRlc3RUZXh0OgogIGlmIEhhc05vUmVjZW50SElWVGVzdCB0aGVuICdcbiBcbiBJZiBub3QgYWxyZWFkeSBvcmRlcmVkLCBjb25zaWRlciBvcmRlcmluZyBhbiBISVYgdGVzdC4nCiAgZWxzZSAnJwoKZGVmaW5lIENhcmREZXRhaWxUZXh0SElWUmVjczoKICAnUGF0aWVudCBpbmZvIG9uIFByRVAgKGEgc2FmZSwgZGFpbHkgcGlsbCB0byByZWR1Y2UgSElWIHJpc2sgYnkgYXBwcm94aW1hdGVseSA5OSUpCiAgIENEQ1wncyBQckVQIDEwMTogaHR0cHM6Ly93d3cuY2RjLmdvdi9oaXYvcGRmL2xpYnJhcnkvY29uc3VtZXItaW5mby1zaGVldHMvY2RjLWhpdi1jb25zdW1lci1pbmZvLXNoZWV0LXByZXAtMTAxLnBkZicKICAgICAgKyBISVZUZXN0VGV4dAogICAgLy8gd2FudCB0byBlbWJlZCBhIGxpbmsgaW4gdGhpcyB0ZXh0IGJ1dCB0aGlzIHNob3VsZCBiZSBzZXBhcmF0ZSBmcm9tIHRoZSAic291cmNlIiBmaWVsZCAKCi8vICBDQVJEIE9WRVJSSURFIFJFQVNPTlMgLSBkeW5hbWljYWxseSBkZWZpbmVkIGhlcmUgZm9yIHBsYW4gZGVmaW5pdGlvbgoKCiAgLy8gT3ZlcnJpZGUgcmVhc29ucyBmb3IgUHJFUCByZWMgY2FyZHMKZGVmaW5lIG92ZXJyaWRlUmVhc29uc0ZvclByRVBDYXJkOiAgewogICAgRkhJUi5Db2RlYWJsZUNvbmNlcHQgewogICAgICBjb2Rpbmc6IHsKICAgICAgICBGSElSLkNvZGluZyB7c3lzdGVtOiBGSElSLnVyaSB7dmFsdWU6ICdodHRwOi8vZWxpbXUuaW8vb3ZlcnJpZGUnfSwgY29kZTogRkhJUi5jb2RlIHt2YWx1ZTogJ3ByZXBpbmZvcHJvdmlkZWQnfSwgZGlzcGxheTogRkhJUi5zdHJpbmcge3ZhbHVlOiAnSW5mbyBhYm91dCBQckVQIHByb3ZpZGVkJyB9fSwKICAgICAgICBGSElSLkNvZGluZyB7c3lzdGVtOiBGSElSLnVyaSB7dmFsdWU6ICdodHRwOi8vZWxpbXUuaW8vb3ZlcnJpZGUnfSwgY29kZTogRkhJUi5jb2RlIHt2YWx1ZTogJ25vdGFwcHJvcHJpYXRlJ30sIGRpc3BsYXk6IEZISVIuc3RyaW5nIHt2YWx1ZTogJ05vdCBhcHByb3ByaWF0ZSBhdCB0aGlzIHRpbWUnIH19ICwKICAgICAgICBGSElSLkNvZGluZyB7c3lzdGVtOiBGSElSLnVyaSB7dmFsdWU6ICdodHRwOi8vZWxpbXUuaW8vb3ZlcnJpZGUnfSwgY29kZTogRkhJUi5jb2RlIHt2YWx1ZTogJ290aGVycHJlcCd9LCBkaXNwbGF5OiBGSElSLnN0cmluZyB7dmFsdWU6ICdPdGhlcicgfX0KICAgICAgfQogICAgfQogIH0K"
  } ]
}

